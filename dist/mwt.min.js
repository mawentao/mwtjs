/*! mwt.min.js v4.0 | (c) 2013-2019 | release:2019-11-26 15:55:43 */
!function(t){function e(a){if(i[a])return i[a].exports;var n=i[a]={exports:{},id:a,loaded:!1};return t[a].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){"use strict";i(1),window.MWT={version:"4.0",config:{log_level:3}},window.mwt=window.MWT,i(5),i(6),i(7),i(8),i(9),i(10),i(11),i(16),i(70),i(93),console.log("mwt.js(v"+mwt.version+") loaded success!")},function(t,e){},,,,function(t,e){"use strict";mwt.log=function(t,e){var i=mwt.config.log_level;if(0!=i){var t=t.toUpperCase(),a="["+t+"] "+e;switch(t.toUpperCase()){case"DEBUG":i>=3&&console.log(a);break;case"INFO":i>=2&&console.log(a);break;case"WARN":i>=1&&console.log(a);break;default:console.log(a)}}},mwt.log_debug=function(t){mwt.log("DEBUG",t)},mwt.log_info=function(t){mwt.log("INFO",t)},mwt.log_warn=function(t){mwt.log("WARN",t)}},function(t,e){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};window.isset=function(t){return"undefined"!=typeof t},window.is_numeric=function(t){if("number"==typeof t)return!0;if("string"==typeof t){var e=new RegExp("^[-|+]?[0-9]+(.)?[0-9]*$");return e.test(t)}return!1},window.is_array=function(t){return"[object Array]"===toString.apply(t)},window.is_string=function(t){return"string"==typeof t},window.number_format=function(t,e){t=parseFloat(t);var i=1;t<0&&(i=-1,t=Math.abs(t));var a=",",n=3,s="";t=t.toFixed(e);for(var r=t.split(".")[0],o=t.split(".")[1],l=r.split(""),c=1;c<=l.length;c++)s=l[l.length-c]+s,c%n==0&&(s=a+s);return s=r.length%n==0?s.substr(1):s,r=s+"."+o,o||(r=s),i<0&&(r="-"+r),r},window.strip_tags=function(t){return t=t.replace(/<!--.*\-->/gi,""),t=t.replace(/<script.*\/script>/gi,""),t=t.replace(/<style.*\/style>/gi,""),t.replace(/<[^>]+>/g,"")},window.time=function(){var t=new Date,e=t.getTime()/1e3;return Math.ceil(e)},window.strtotime=function(t){t=t.replace(/-/g,"/");var e=new Date(t),i=e.getTime()/1e3;return Math.ceil(i)},window.date=function(t,e){var i=new Date;e&&(i=new Date(1e3*e));var a={"Y+":i.getFullYear(),"m+":i.getMonth()+1,"d+":i.getDate(),"H+":i.getHours(),"i+":i.getMinutes(),"s+":i.getSeconds(),"w+":i.getDay()};for(var n in a)if(new RegExp("("+n+")").test(t)){var s=a[n]+"";1==s.length&&(s="0"+s),t=t.replace(RegExp.$1,s)}return t},window.in_array=function(t,e){for(var i=e.length,a=0;a<i;++a)if(e[a]==t)return!0;return!1},window.array_keys=function(t){var e=[];for(var i in t)e.push(i);return e},window.json2str=function(t,e){var a="";e||(e=1);var n=new Array(4*(e-1)).join(" "),s=new Array(4*e).join(" "),r="",o="undefined"==typeof t?"undefined":i(t);switch(o){case"string":case"number":case"boolean":case"undefined":case"function":r+=t;break;case"object":default:for(var l in t)r+=s+"["+l+"] = ",r+=json2str(t[l],e+1)}return"object"==o?(a+=o+"\n",a+=n+"(\n",a+=r,a+=n+")\n"):a+=o+"("+r+")\n",a},window.print_r=function(t){alert(json2str(t))}},function(t,e){"use strict";function i(){var t={ie:"msie",firefox:"firefox",chrome:"chrome",opera:"opera",safari:"safari"},e=window.navigator.userAgent.toLowerCase();for(var i in t)if(e.indexOf(t[i])>=0)return i;return"unknow"}function a(t){return window.btoa(unescape(encodeURIComponent(t)))}window.export_excel=function(t,e,n){if("ie"==i())return void window.alert("不支持IE内核浏览器，请使用Chrome或FireFox浏览器！");n||(n="");var s="data:application/vnd.ms-excel;base64,",r="<html><head><title>"+e+'</title><meta charset="UTF-8"><style>table {font-size:12px;border-collapse:collapse;border-color:#ddd;}th,thead td {background:#f1f2f3;color:#000;font-weight:normal;}th,td {height:25px;vertical-align:middle;mso-number-format:"@";border-color:#ddd;text-align:center;}'+n+'</style></head><body><table border="1">{table}</table></body></html>',o=function(t,e){return t.replace(/{(\w+)}/g,function(t,i){return e[i]})},l=document.getElementById(t),c=new RegExp("(</?table.*?>|<input.*?>|<colgroup.*?</colgroup>|<tfoot.*?</tfoot>)","gi"),u=l.innerHTML.replace(c,""),d=new RegExp("<th .*?>","gi");//!< 删除th标签的属性
u=u.replace(d,"<th>");var h=new RegExp("<td .*?>","gi");//!< 删除td标签的属性
u=u.replace(h,"<td>");var p={worksheet:"Worksheet",table:u},f=a(o(r,p)),m=f.length;if(m>=2097152)return void mwt.alert("导出的数据不能超过2MB");var g=document.createElement("a");g.download=e,g.href=s+f;var v=document.createEvent("MouseEvents");v.initEvent("click",!1,!1),g.dispatchEvent(v)}},function(module,exports){"use strict";function hide(t){document.getElementById(t).style.display="none"}function display(t){document.getElementById(t).style.display="block"}function show(t){document.getElementById(t).style.display="block"}function get_html(t){return document.getElementById(t).innerHTML}function get_int_value(t,e){var i=document.getElementById(t),a=parseInt(i.value);return isNaN(a)&&(i.value=e,a=e),a}function get_textarea_values(t){for(var e=get_text_value(t),i=e.split("\n"),a=[],n=0;n<i.length;++n){var s=i[n].trim();""!=s&&(s=encodeURIComponent(s),a.push(s))}return a}function hasClass(t,e){return t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}function addClass(t,e){this.hasClass(t,e)||(t.className+=" "+e)}function removeClass(t,e){if(hasClass(t,e)){var i=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(i,"")}}mwt.set_html=function(t,e){document.getElementById(t).innerHTML=e},mwt.get_value=function(t){var e=document.getElementById(t);return e.value.trim()},mwt.get_text_value=function(t){var e=document.getElementById(t),i=e.value.trim();if(""==i)throw e.value="",e.focus(),new Error(t+" is empty");return i},mwt.set_value=function(t,e){document.getElementById(t).value=e},mwt.isNumber=function(t){var e=/^[-]?[0-9]+$/;return e.test(t)},mwt.isDecimal=function(t){var e=/^[0-9]+[\.]{0,1}[0-9]*$/;return e.test(t)},mwt.isPhone=function(t){var e=/^1[0-9]{10}$/;return e.test(t)},mwt.isEmail=function(t){var e=/^[\w\-_\.]+@[\w\-_\.]+\.\w+$/;return e.test(t)},mwt.isUrl=function(t){var e="^((https|http|ftp|rtsp|mms)?://)(([0-9a-z_!~*'().&=+$%-]+: )?[0-9a-z_!~*'().&=+$%-]+@)?(([0-9]{1,3}.){3}[0-9]{1,3}|([0-9a-z_!~*'()-]+.)*([0-9a-z][0-9a-z-]{0,61})?[0-9a-z].[a-z]{2,6})(:[0-9]{1,4})?((/?)|(/[0-9a-z_!~*'().;?:@&=+$,%#-]+)+/?)$",i=new RegExp(e,"i");return i.test(t)},mwt.set_checkbox_checked=function(t,e){for(var i=document.getElementsByName(t),a=0;a<i.length;++a)i[a].checked=e},mwt.set_checkbox_values=function(t,e){for(var i=document.getElementsByName(t),a=0;a<i.length;++a){for(var n=!1,s=0;s<e.length;++s)if(e[s]==i[a].value){n=!0;break}i[a].checked=n}},mwt.get_select_value=function(t){var e=document.getElementById(t);return e.options[e.selectedIndex].value},mwt.set_select_value=function(t,e){for(var i=document.getElementById(t),a=0;a<i.options.length;a+=1)if(i.options[a].value==e){i.options[a].selected=!0;break}},mwt.get_radio_value=function(t){for(var e,i=document.getElementsByName(t),a=0;a<i.length;a+=1)if(i[a].checked){e=i[a].value;break}return e},mwt.get_checkbox_values=function(t){for(var e=[],i=document.getElementsByName(t),a=0;a<i.length;++a)i[a].checked&&e.push(i[a].value);return e},mwt.set_radio_value=function(t,e){for(var i=document.getElementsByName(t),a=0;a<i.length;++a)if(i[a].value==e)return void(i[a].checked=!0)},Array.prototype.remove=function(t){if(isNaN(t)||t>this.length)return!1;for(var e=0,i=0;e<this.length;e++)this[e]!=this[t]&&(this[i++]=this[e]);this.length-=1},String.prototype.startWith=function(str,ignoreCase){var reg=eval("/^"+str+"/");return ignoreCase&&(reg=eval("/^"+str+"/i")),reg.test(this)},String.prototype.startwith=function(str,ignoreCase){var reg=eval("/^"+str+"/");return ignoreCase&&(reg=eval("/^"+str+"/i")),reg.test(this)},String.prototype.endWith=function(str,ignoreCase){var reg=eval("/"+str+"$/");return ignoreCase&&(reg=eval("/"+str+"$/i")),reg.test(this)},String.prototype.endwith=function(str,ignoreCase){var reg=eval("/"+str+"$/");return ignoreCase&&(reg=eval("/"+str+"$/i")),reg.test(this)},String.prototype.replaceAll=function(t,e){return this.replace(new RegExp(t,"gm"),e)},Date.prototype.format=function(t){var e=this.getFullYear(),i=this.getMonth()+1;i<10&&(i="0"+i);var a=this.getDate();a<10&&(a="0"+a);var n=this.getHours();n<10&&(n="0"+n);var s=this.getMinutes();s<10&&(s="0"+s);var r=this.getSeconds();return r<10&&(r="0"+r),t.replace(/Y/g,e).replace(/m/g,i).replace(/d/g,a).replace(/H/g,n).replace(/i/g,s).replace(/s/g,r)}},function(t,e){"use strict";mwt.$=function(t){return document.getElementById(t)},mwt.destroy=function(t){var e=mwt.$(t);e&&e.remove()},mwt.genId=function(t){function e(t){for(var e="0123456789qwertyuioplkjhgfdsazxcvbnmABCDEFGHIJKLMNOPQRSTUVWXYZ",i="",a=0;a<t;a++)i+=e.charAt(Math.ceil(1e8*Math.random())%e.length);return i}for(var i=6;;){var a=t?t+e(i):e(i);if(!mwt.$(a))return a}},mwt.createDiv=function(t){if(!mwt.$(t)){var e=document.createElement("div");e.id=t,document.body.appendChild(e)}return t},mwt.showFloatDiv=function(t,e,i,a,n,s,r,o){mwt.$(t)||mwt.createDiv(t);var l=mwt.$(t);r&&(l.className=r);var c=s?"fixed":"absolute",u=e<0?"right":"left",d=i<0?"bottom":"top";e=Math.abs(e),i=Math.abs(i);var h="position:"+c+";z-index:9527;width:"+a+"px;height:"+n+"px;"+u+":"+e+"px;"+d+":"+i+"px;";o&&(h+=o),l.style=h}},function(t,e){"use strict";MWT.extends=function(t,e){t.prototype=new e},MWT.Event=function(){this.listeners={},this.addListener=function(t,e){this.listeners[t]||(this.listeners[t]=[]);for(var i=0;i<this.listeners[t].length;++i)if(e==this.listeners[t][i])return;this.listeners[t].push(e)},this.on=function(t,e){this.addListener(t,e)},this.fireon=function(t,e){this.addListener(t,e),e.call(e,this)},this.removeListener=function(t,e){if(this.listeners[t])for(var i=this.listeners[t],a=0;a<i.length;++a)if(i[a]==e)return void i.remove(a)},this.un=function(t,e){this.removeListener(t,e)},this.removeAllListeners=function(t){delete this.listeners[t]},this.unall=function(t){this.removeAllListeners(t)},this.fireEvent=function(t){if(this.listeners[t])for(var e=this.listeners[t],i=0;i<e.length;++i){var a=e[i];a.call(a,this)}},this.fire=function(t){this.fireEvent(t)}}},function(t,e,i){"use strict";i(12)},function(t,e,i){"use strict";i(13),MWT.Store=function(t){this.listeners={},this.proxy,//!< 数据代理器
this.baseParams={},//!< 参数
this.root=[],//!< 主数据存储
this.totalProperty=0,//!< 主数据个数
this.annex={},//!< 附加数据存储
t&&t.proxy&&(this.proxy=t.proxy),this.size=function(){return this.root.length},this.get=function(t){return this.root[t]},this.indexOf=function(t,e){var i=this.root.length;if("undefined"==typeof e){for(var a=0;a<i;++a)if(this.root[a]==t)return a}else for(var a=0;a<i;++a)if(this.root[a][t]==e)return a;return-1},this.push=function(t){this.root.push(t),this.fire("load")},this.insert=function(t,e){this.root.splice(t,0,e),this.fire("load")},this.remove=function(t){this.root.splice(t,1),this.fire("load")},this.pop=function(t){this.root.pop(),this.fire("load")},this.load=function(){var t=this;this.proxy.load(this.baseParams,function(e){isset(e.totalProperty)&&(t.totalProperty=e.totalProperty),isset(e.root)&&(t.root=e.root),isset(e.annex)&&(t.annex=e.annex),t.fire("load")})},this.clear=function(){this.root=[],this.totalProperty=0,this.annex={},this.fire("load")},this.swap=function(t,e){var i=this.root.length;if(!(t>=i||t<0||e>=i||e<0||t==e)){var a=this.root[t];this.root[t]=this.root[e],this.root[e]=a,this.fire("load")}},this.set=function(t,e){this.root[t]=e,this.fire("load")},this.sort=function(t,e){this.baseParams.sort=t,this.baseParams.dir=e,this.load()}},MWT.extends(MWT.Store,MWT.Event)},function(t,e,i){"use strict";MWT.Proxy=function(t){this.listeners={},this.construct=function(t){},this.load=function(t,e){}},MWT.extends(MWT.Proxy,MWT.Event),i(14),i(15)},function(t,e){"use strict";mwt.MemoryProxy=function(t){this.listeners={},this.data=[],t&&(this.construct(t),t.data&&(this.data=t.data)),this.load=function(t,e){var i=this.data,a=i.length?i.length:0;if(a&&isset(t.sort)){var n=t.sort,s=t.dir.toUpperCase();i.sort&&i.sort(function(t,e){return isset(t[n])&&isset(e[n])?"ASC"==s?t[n]>e[n]?1:-1:t[n]<e[n]?1:-1:1})}var r=i;if(isset(t.start)&&isset(t.limit)){var o=parseInt(t.start),l=parseInt(t.limit);l&&(r=i.slice(o,o+l))}var c={totalProperty:a,root:r,annex:{}};e&&e(c)}},MWT.extends(MWT.MemoryProxy,MWT.Proxy)},function(t,e){"use strict";mwt.HttpProxy=function(t){this.listeners={};var e,i,a="",n="POST",s="json",r=!0;t&&(this.construct(t),t.url&&(a=t.url),t.method&&"GET"==t.method.toUpperCase()&&(n="GET"),t.dataType&&(s=t.dataType),isset(t.async)&&!t.async&&(r=!1),t.beforeLoad&&(e=t.beforeLoad),t.afterLoad&&(i=t.afterLoad)),this.load=function(t,o){e&&e(),jQuery.ajax({url:a,type:n,async:r,data:t,dataType:s,complete:function(){i&&i()},success:function(t){var e=t;t.data&&(e=t.data),o&&o(e)},error:function(t,e,i){var a="Error("+t.readyState+") : "+e;mwt.log_warn(a)}})}},MWT.extends(MWT.HttpProxy,MWT.Proxy)},function(t,e,i){"use strict";i(17),i(19),i(21),i(23),i(46),i(49),i(51),i(54),i(57),i(60),i(63),i(66)},function(t,e){},,function(t,e){},,function(t,e){},,function(t,e,i){"use strict";i(24),i(26),i(34),i(40)},function(t,e){},,function(t,e){},,,,,,,,function(t,e){},,,,,,function(t,e){},,,,,,function(t,e,i){"use strict";i(47)},function(t,e){},,function(t,e){},,function(t,e,i){"use strict";i(52),mwt.showPop=function(t,e,i,a,n){if(!mwt.$(e)){mwt.createDiv(e);var s=mwt.$(e);s.className="mwt-pop mwt-motion-popdown",s.style.width=i+"px",s.style.height=a+"px",jQuery("#"+e).unbind("click").click(function(t){t.stopPropagation()}),jQuery(document).on("click",function(){jQuery("#"+e).hide()})}var r=jQuery("#"+e),o=jQuery("#"+t),l=o.offset(),c={x:l.left,y:l.top,w:o.width(),h:o.height()},u=c.x,d=c.y+c.h+2,h=document.documentElement.clientWidth,p=document.documentElement.scrollHeight,f={top:d,left:u};u+i>h&&(delete f.left,f.right=2),d>a&&d+a>p&&(f.top=c.y-a-2),r.css(f).show(),event.stopPropagation(),n&&n(e)}},function(t,e){},,function(t,e,i){"use strict";i(55),mwt.Dialog=function(t){function e(t){if(1==t.which){var e=document.getElementById(c);e.style.cursor="move",jQuery("#"+c).data("mdown","1"),jQuery("#"+c).data("objX",e.style.left),jQuery("#"+c).data("objY",e.style.top),jQuery("#"+c).data("mouseX",t.clientX),jQuery("#"+c).data("mouseY",t.clientY)}}function i(t){if(1==t.which&&1==jQuery("#"+c).data("mdown")){var e=jQuery("#"+c).data("objX"),i=jQuery("#"+c).data("objY"),a=jQuery("#"+c).data("mouseX"),n=jQuery("#"+c).data("mouseY"),s=document.getElementById(c),r=t.clientX,o=t.clientY;s.style.left=parseInt(e)+parseInt(r)-parseInt(a)+"px",s.style.top=parseInt(i)+parseInt(o)-parseInt(n)+"px"}}function a(t){if(1==t.which){var e=document.getElementById(c);e.style.cursor="default",jQuery("#"+c).data("mdown","0")}}this.listeners={};var n,s,r,o="新建窗口",l=null,c="",u="",d="",h=null,p="bounceInDown",f="500px",m="auto",g=100,v=!1,y=null,w=null,b="pc";t&&(t.render&&(h=t.render),t.title&&(o=t.title),t.width&&(f=/%$/.test(t.width)?t.width:t.width+"px"),t.height&&(m=t.height+"px"),t.top&&(g=t.top),t.form&&(n=t.form),t.buttons&&(y=t.buttons),t.animate&&(p=t.animate),t.body&&(w=t.body),t.bodyStyle&&(s=t.bodyStyle),t.fullscreen&&(v=!0),t.style&&(r=t.style),t.buttonStyle&&(b=t.buttonStyle)),this.create=function(){h||(h=MWT.genId("dg-")),MWT.createDiv(h),l=MWT.$(h),l.className="mwt-dialog",w&&(l.innerHTML=w);var t=this,k=h;c=k+"-dialog-body",u=k+"-dialog-title",d=k+"-dialog-content";var _=k+"-close",x=l.innerHTML;if(v)var j="<div id='"+h+"-modal' class='modaldiv'></div><div id='"+c+"' class='dialog-body "+p+"' style='position:fixed;top:0;bottom:0;left:0;right:0;display:block;border-radius:0;"+r+"'><div class='dialog-head mwt-border-bottom' id='d-head-"+k+"'><span id='"+u+"'>"+o+"</span><a id='"+_+"' class='mwt-btn mwt-btn-default btnclose' href='javascript:;'><i class=\"sicon-close\"></i></a></div><div class='content' onmousedown='' style='height:"+m+";"+s+"' id='"+d+"'>"+x+"</div>";else var j="<div id='"+h+"-modal' class='modaldiv'></div><div id='"+c+"' class='dialog-body "+p+"' style='top:"+g+"px;width:"+f+";"+r+"'><div class='dialog-head mwt-border-bottom' id='d-head-"+k+"'><span id='"+u+"'>"+o+"</span><a id='"+_+"' class='mwt-btn mwt-btn-default btnclose' href='javascript:;'><i class=\"sicon-close\"></i></a></div><div class='content' onmousedown='' style='height:"+m+";"+s+"' id='"+d+"'>"+x+"</div>";if(y&&y.length>0){for(var M=[],D=0;D<y.length;D++){var Q=isset(y[D].cls)?y[D].cls:"mwt-btn-default";Q+="mobile"==b?" mwt-col-fill":" mwt-btn-sm radius";var T=y[D].style?' style="'+y[D].style+'"':"",I='<button id="'+k+D+'btn" class="mwt-btn '+Q+'"'+T+">"+y[D].label+"</button>";M.push(I)}var Q="dialog-foot mwt-border-top";"mobile"==b&&(Q+=" mwt-row-flex"),j+="<div id='d-foot-"+k+"' class='"+Q+"'>"+M.join("")+"</div>"}if(j+="</div></div>",l.innerHTML=j,isset(n)&&n.create(),jQuery("#"+_).click(function(){t.close()}),y&&y.length>0)for(var D=0;D<y.length;D++){var C=k+D+"btn";"close"==y[D].type?jQuery("#"+C).click(function(){t.close()}):isset(y[D].handler)&&jQuery("#"+C).click(y[D].handler)}v||jQuery("#d-head-"+k).mousedown(e).mousemove(i).mouseup(a)},this.open=function(){null==l&&this.create(),this.fire("beforeOpen"),jQuery("#"+h).show(),jQuery("#"+h+"-modal").fadeIn("fast"),jQuery("#"+c).css("display","inline-block"),this.fire("open")},this.close=function(){this.fire("beforeClose"),jQuery("#"+h).fadeOut("fast"),this.fire("close")},this.setTitle=function(t){o=t,l&&(MWT.$(u).innerHTML=o)}},MWT.extends(MWT.Dialog,MWT.Event)},function(t,e){},,function(t,e,i){"use strict";i(58),MWT.Flow=function(t){var e=null;this.listeners={},this.store;var i,a="暂无数据",n=10,s=null,r=null,o="",l=this,c=[];t&&(t.render&&(e=t.render),t.cls&&(o=t.cls),t.store&&(this.store=t.store),isset(t.pageSize)&&(n=t.pageSize),isset(t.itemRenderFun)&&(s=t.itemRenderFun),isset(t.itemClickFun)&&(r=t.itemClickFun),isset(t.emptyMsg)&&(a=t.emptyMsg)),this.create=function(){var t='<table id="tab-'+e+'" class="mwt-flow-tab '+o+'"></table><div class="mwt-btn-block mwt-btn mwt-btn-default mwt-btn-xs mwt-loadmorebtn" id="loadmorebtn-'+e+'">点击查看更多</div>';jQuery("#"+e).html(t),i=new MWT.PageBar({store:this.store,pageSize:n}),i.on("load",function(t){l.display()})},this.display=function(){var t=jQuery("#tab-"+e),n=jQuery("#loadmorebtn-"+e);if(0==this.store.size()){var o='<div class="mwt-empty">'+a+"</div>";return t.html(o),void n.hide()}var l=(i.pageNum-1)*i.pageSize;0==l&&(c=[]);for(var u=[],d=0;d<this.store.size();++d){var h=this.store.get(d),o=s?s(h,d):"";o.startWith("<tr><td>")||(o='<tr><td name="row-'+e+'" data-idx="'+(l+d)+'">'+o+"</td></tr>"),u.push(o),c.push(h)}t.append(u.join("")),i.pageNum<i.pageCount?n.html("点击查看更多").show().unbind("click").click(function(){o='<i class="icon icon-loading fa fa-spin fa-2x"></i>'+n.html(),n.html(o).unbind("click"),i.nextPage()}):n.hide(),r&&jQuery('[name="row-'+e+'"]').unbind("click").click(function(){var t=jQuery(this).data("idx"),e=c[t];r(e)})},this.getRecord=function(t,e){var i=this.store.indexOf(t,e);return i<0||i>=this.store.size()?null:this.store.get(i)},this.load=function(t){jQuery("#tab-"+e).html(""),isset(t)&&(this.store.baseParams=t),i.changePage(1)}},MWT.extends(MWT.Flow,MWT.Event)},function(t,e){},,function(t,e,i){"use strict";i(61)},function(t,e){},,function(t,e,i){"use strict";i(64),mwt.showWaterMark=function(t){for(var e=mwt.createDiv("watermark"),i=Math.ceil(screen.height/150),a=Math.ceil(screen.width/250),n=250,s=150,r=[],o=0;o<i;++o)for(var l=0;l<a;++l){var c=20+l*n,u=20+o*s;r.push('<span style="left:'+c+"px;top:"+u+'px;">'+t+"</span>")}jQuery("#"+e).html(r.join(""))}},function(t,e){},,function(t,e,i){"use strict";i(67),i(69),mwt.ImageBox=function(){function t(){var t=l.render;o%=360,jQuery("#canvas-"+t).css({transform:"scale("+r+") rotate("+o+"deg)"})}function e(){var t=l.render;r=1,o=0;var e=jQuery("#canvas-"+t),i=e[0],a=i.getContext("2d");e.attr("width",s.width).attr("height",s.height);var n=s.height>300?300:s.height,c=n*s.width/s.height;e.css({width:c+"px",height:n+"px",transform:"scale("+r+") rotate("+o+"deg)"}),a.drawImage(s,0,0);var u="canvas-div-"+t,d=window.innerWidth,h=window.innerHeight,p=(d-c)/2,f=(h-n-240)/2;p<0&&(p=0),f<0&&(f=0),jQuery("#"+u).css({left:p+"px",top:f+"px"})}function i(t,e){if(1==t.which){var i=document.getElementById(e);i.style.cursor="move",jQuery("#"+e).data("mdown","1").data("objX",i.style.left).data("objY",i.style.top).data("mouseX",t.clientX).data("mouseY",t.clientY)}}function a(t,e){if(1==t.which){var i=jQuery("#"+e);if(1==i.data("mdown")){var a=i.data("objX"),n=i.data("objY"),s=i.data("mouseX"),r=i.data("mouseY"),o=document.getElementById(e),l=t.clientX,c=t.clientY;o.style.left=parseInt(a)+parseInt(l)-parseInt(s)+"px",o.style.top=parseInt(n)+parseInt(c)-parseInt(r)+"px"}}}function n(t,e){if(1==t.which){var i=document.getElementById(e);i.style.cursor="default",jQuery("#"+e).data("mdown","0")}}this.render="mwt-image-box";var s=new Image,r=1,o=0,l=this;this.init=function(){var l=this.render,c='<div class="mwt-image-view-box"><div class="mwt-image-view-mask"><i class="sicon-close" id="close-'+l+'"></i></div><div class="mwt-image-view-canvas" id="canvas-div-'+l+'"><canvas id="canvas-'+l+'"></canvas></div><div class="mwt-image-view-btns"><button id="zoom-in-'+l+'" class="mwt-btn mwt-btn-default"><i class="fa fa-plus-circle"></i></button><br><button id="zoom-out-'+l+'" class="mwt-btn mwt-btn-default"><i class="fa fa-minus-circle"></i></button><br><button id="roleft-'+l+'" class="mwt-btn mwt-btn-default"><i class="fa fa-rotate-right"></i></button><br><button id="roright-'+l+'" class="mwt-btn mwt-btn-default"><i class="fa fa-rotate-left"></i></button><br><button id="refresh-'+l+'" class="mwt-btn mwt-btn-default"><i class="fa fa-refresh"></i></button></div></div>';mwt.createDiv(l),jQuery("#"+l).html(c),jQuery("#close-"+l).unbind("click").click(function(){jQuery("#"+l).hide()});var u="canvas-div-"+l;s.onload=e,jQuery("#zoom-in-"+l).unbind("click").click(function(){r+=.1,t()}),jQuery("#zoom-out-"+l).unbind("click").click(function(){r-=.1,t()}),jQuery("#roleft-"+l).unbind("click").click(function(){o-=90,t()}),jQuery("#roright-"+l).unbind("click").click(function(){o+=90,t()}),jQuery("#refresh-"+l).unbind("click").click(function(){e()}),jQuery("#canvas-"+l).unbind("mousewheel").bind("mousewheel",function(e,i){i>0?r+=.1:r-=.1,t()}),jQuery("#"+u).mousedown(function(t){i(t,u)}).mousemove(function(t){a(t,u)}).mouseup(function(t){n(t,u)})},this.show=function(t){r=1,o=0;var e=this.render;jQuery("#"+e).show(),s.src=t}},mwt.imageBox=null,mwt.initImageView=function(){jQuery(".mwt-image-view").unbind("click").click(function(){var t=jQuery(this).attr("src");mwt.imageBox||(mwt.imageBox=new mwt.ImageBox,mwt.imageBox.init()),mwt.imageBox.show(t)})}},function(t,e){},,function(t,e){"use strict";/*!
	 * jQuery Mousewheel 3.1.13
	 *
	 * Copyright jQuery Foundation and other contributors
	 * Released under the MIT license
	 * http://jquery.org/license
	 */
!function(t){t(jQuery)}(function(t){function e(e){var r=e||window.event,o=l.call(arguments,1),c=0,d=0,h=0,p=0,f=0,m=0;if(e=t.event.fix(r),e.type="mousewheel","detail"in r&&(h=r.detail*-1),"wheelDelta"in r&&(h=r.wheelDelta),"wheelDeltaY"in r&&(h=r.wheelDeltaY),"wheelDeltaX"in r&&(d=r.wheelDeltaX*-1),"axis"in r&&r.axis===r.HORIZONTAL_AXIS&&(d=h*-1,h=0),c=0===h?d:h,"deltaY"in r&&(h=r.deltaY*-1,c=h),"deltaX"in r&&(d=r.deltaX,0===h&&(c=d*-1)),0!==h||0!==d){if(1===r.deltaMode){var g=t.data(this,"mousewheel-line-height");c*=g,h*=g,d*=g}else if(2===r.deltaMode){var v=t.data(this,"mousewheel-page-height");c*=v,h*=v,d*=v}if(p=Math.max(Math.abs(h),Math.abs(d)),(!s||p<s)&&(s=p,a(r,p)&&(s/=40)),a(r,p)&&(c/=40,d/=40,h/=40),c=Math[c>=1?"floor":"ceil"](c/s),d=Math[d>=1?"floor":"ceil"](d/s),h=Math[h>=1?"floor":"ceil"](h/s),u.settings.normalizeOffset&&this.getBoundingClientRect){var y=this.getBoundingClientRect();f=e.clientX-y.left,m=e.clientY-y.top}return e.deltaX=d,e.deltaY=h,e.deltaFactor=s,e.offsetX=f,e.offsetY=m,e.deltaMode=0,o.unshift(e,c,d,h),n&&clearTimeout(n),n=setTimeout(i,200),(t.event.dispatch||t.event.handle).apply(this,o)}}function i(){s=null}function a(t,e){return u.settings.adjustOldDeltas&&"mousewheel"===t.type&&e%120===0}var n,s,r=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],o="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(t.event.fixHooks)for(var c=r.length;c;)t.event.fixHooks[r[--c]]=t.event.mouseHooks;var u=t.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var i=o.length;i;)this.addEventListener(o[--i],e,!1);else this.onmousewheel=e;t.data(this,"mousewheel-line-height",u.getLineHeight(this)),t.data(this,"mousewheel-page-height",u.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var i=o.length;i;)this.removeEventListener(o[--i],e,!1);else this.onmousewheel=null;t.removeData(this,"mousewheel-line-height"),t.removeData(this,"mousewheel-page-height")},getLineHeight:function(e){var i=t(e),a=i["offsetParent"in t.fn?"offsetParent":"parent"]();return a.length||(a=t("body")),parseInt(a.css("fontSize"),10)||parseInt(i.css("fontSize"),10)||16},getPageHeight:function(e){return t(e).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})})},function(t,e,i){"use strict";i(71),MWT.Field=function(t){this.listeners={},this.render=null,this.id="",this.value="",this.defaultValue="",this.cls="mwt-field",this.style="",this.construct=function(t){t&&(isset(t.render)&&(this.render=t.render),isset(t.id)&&(this.id=t.id),isset(t.value)&&(this.value=t.value),isset(t.style)&&(this.style=t.style),isset(t.cls)&&(this.cls=t.cls),this.defaultValue=this.value)},this.getId=function(){return this.id},this.getValue=function(){if(this.validate())return this.value;throw new Error("validate fail")},this.reset=function(){this.value=this.defaultValue,this.setValue(this.defaultValue)},this.validate=function(){return!0}},MWT.extends(MWT.Field,MWT.Event),i(73),i(74),i(75),i(76),i(77),i(81),i(82),i(83),i(84),i(85),i(88),i(89),i(90),i(91),i(92)},function(t,e){},,function(t,e){"use strict";MWT.TextField=function(t){function e(){n.hide(),c.value=mwt.get_value(a),c.fire("change"),""!=c.value&&jQuery("#"+a+"-clear").show()}function i(){var t=localStorage.getItem(l);if(t){var i=t.split("||");if(0!=i.length){for(var n='<div class="mwt-pop-words"><a id="'+this.render+'-pop-clrbtn" href="javascript:;">清空</a><ul id="'+this.render+'-wdul">',s=0;s<i.length;++s)n+='<li name="'+c.render+'-wd">'+i[s]+"</li>";n+="</ul></div>",jQuery("#"+o).show().html(n),jQuery("[name="+c.render+"-wd]").click(function(){var t=jQuery(this).html();jQuery("#"+a).val(t),e()}),jQuery("#"+this.render+"-pop-clrbtn").click(function(){c.clearwords(),jQuery("#"+this.render+"-wdul").html("")})}}}this.listeners={};var a,n,s,r,o,l,c=this,u="text",d="",h=!1,p="max-height:100px;";//!< localStorage存储的key
t&&(this.construct(t),t.type&&(u=t.type),t.placeholder&&(d=t.placeholder),t.errmsg&&(s=t.errmsg),t.checkfun&&(r=t.checkfun),t.empty&&(h=t.empty),a=this.render+"txt",o=this.render+"pop",t.popStyle&&(p=t.popStyle),l=this.render+"skey"),this.create=function(){var t;t="textarea"==u?'<textarea id="'+a+'" class="form-control '+this.cls+'" placeholder="'+d+'" style="'+this.style+'"></textarea>':'<div style="position:relative"><input type="'+u+'" id="'+a+'" class="form-control '+this.cls+'" placeholder="'+d+'" style="'+this.style+';padding:0 20px 0 5px;"><i id="'+a+'-clear" class="fa fa-times-circle" style="display:none;color:#999;font-size:14px;margin-left:-20px;vertical-align:middle;"></i><div id="'+o+'" class="mwt-field-pop" style="'+p+'"></div>',jQuery("#"+this.render).html(t),n=new MWT.Popover({anchor:a,html:s,cls:"mwt-popover-danger"}),this.setValue(this.value);var r=jQuery("#"+a),l=jQuery("#"+a+"-clear"),c=jQuery("#"+o);r.change(e),r.focus(function(){l.show(),i(),jQuery(document).unbind("click").on("click",function(){var t=document.activeElement.id;t!=a&&(c.hide(),l.hide())}),event.stopPropagation()}),c.click(function(t){t.stopPropagation()}),l.click(function(){r.val("").focus()})},this.setValue=function(t){mwt.set_value(a,t),this.value=t},this.validate=function(){n.hide();var t=h?mwt.get_value(a):mwt.get_text_value(a);return!(r&&!r(t))||(n.pop(),jQuery("#"+a).focus(),setTimeout(n.hide,2e3),!1)},this.readOnly=function(t){t?jQuery("#"+a).attr("readonly",!0):jQuery("#"+a).removeAttr("readonly")},this.addword=function(t){var e=localStorage.getItem(l),i=e?e.split("||"):[];in_array(t,i)||(i.push(t),localStorage.setItem(l,i.join("||")))},this.clearwords=function(){localStorage.removeItem(l)}},MWT.extends(MWT.TextField,MWT.Field)},function(t,e){"use strict";MWT.SelectField=function(t){this.listeners={},this.options=[];var e="";t&&(isset(t.options)&&(this.options=t.options),this.construct(t),""==this.id&&(this.id=this.render+"sel"),e=t.name?t.name:this.id),this.create=function(){var t=this,i=this.id,a="<select id='"+this.id+"' name='"+e+"'";""!=this.cls&&(a+=" class='"+this.cls+"'"),a+=""!=this.style?' style="'+this.style+'"':' style="width:auto;border-radius:2px;"',a+=">";for(var n=0;n<this.options.length;++n){var s=isset(this.value)?this.value:0,r=this.options[n].value==s?"selected":"";a+="<option value='"+this.options[n].value+"' "+r+">"+this.options[n].text+"</option>"}a+="</select>",jQuery("#"+this.render).html(a),jQuery("#"+i).change(function(){var e=jQuery(this).children("option:selected").val();t.value=e,t.fire("change")})},this.setValue=function(t){var e=this.id;mwt.set_select_value(e,t),this.value=jQuery("#"+e).children("option:selected").val()}},MWT.extends(MWT.SelectField,MWT.Field)},function(t,e){"use strict";MWT.RadioField=function(t){this.listeners={};var e,i,a,n=[],s=!1;t&&(isset(t.options)&&(n=t.options),this.construct(t),t.errmsg&&(e=t.errmsg),t.checkfun&&(i=t.checkfun),t.empty&&(s=t.empty)),this.create=function(){var t=this;this.id;a=this.render+"rdo";for(var e=[],i=0;i<n.length;++i){var s=n[i],r='<label class="'+this.cls+'" style="display:inline-block"><input type="radio" name="'+a+'" value="'+s.value+'"><span>'+s.text+"</span></label>";e.push(r)}var o=e.join("&nbsp;&nbsp;");jQuery("#"+this.render).html(o),jQuery("[name="+a+"]").change(function(){t.value=mwt.get_radio_value(a),t.fire("change")}),this.reset()},this.setValue=function(t){this.value=t,mwt.set_radio_value(a,t)},this.validate=function(){var t=this.value;return!(!s&&""==t||i&&!i(this.value))}},MWT.extends(MWT.RadioField,MWT.Field)},function(t,e){"use strict";MWT.RadiobtnField=function(t){this.listeners={},this.options=[],t&&(this.cls="mwt-btn-primary",this.construct(t),isset(t.options)&&(this.options=t.options),""==this.id&&(this.id=this.render+"sel")),this.create=function(){for(var t=this,e=this.id+"rabtn",i="<div class='mwt-btn-group' style='"+this.style+"'>",a=0;a<this.options.length;++a){var n=isset(this.value)?this.value:0,s=this.options[a].value==n?"active":"",r="mwt-btn mwt-btn-xs "+this.cls;r+=" "+s,i+="<button name='"+e+"' class='"+r+"' style='float:none;' data-value='"+this.options[a].value+"'>"+this.options[a].text+"</button>"}i+="</div><input type='hidden' id='"+this.id+"' value='"+this.value+"'/>",jQuery("#"+this.render).html(i),jQuery("button[name="+e+"]").click(function(){jQuery("button[name="+e+"]").removeClass("active"),jQuery(this).addClass("active"),t.value=jQuery(this).data("value"),jQuery("#"+t.id).val(t.value),t.fire("change")})},this.setValue=function(t){this.value=t,jQuery("#"+this.id).val(t);var e=this.id+"rabtn";jQuery("button[name="+e+"]").removeClass("active"),jQuery("button[data-value='"+t+"']").addClass("active")}},MWT.extends(MWT.RadiobtnField,MWT.Field)},function(t,e,i){"use strict";i(78),i(80),Date.prototype.format=function(t){var e={"m+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"M+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(2-RegExp.$1.length)));for(var i in e)new RegExp("("+i+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[i]:("00"+e[i]).substr((""+e[i]).length)));return t},MWT.DatepickerField=function(t){if(this.listeners={},this.format="yy/mm/dd",t&&(this.construct(t),""==this.id&&(this.id=this.render+"txt"),isset(t.format)&&(this.format=t.format),isset(t.value))){var e=time();is_numeric(t.value)?e+=86400*t.value:e=strtotime(t.value);var i=date("Y/m/d",e);this.value=new Date(i).format(this.format)}this.create=function(){var t=this,e=this.id,i="<input type='text' class='mwt-field mwt-datepicker'";""!=this.style&&(i+=' style="'+this.style+'"'),i+=" id='"+e+"' value='"+this.value+"' readonly/><i class='fa fa-calendar'></i>",jQuery("#"+this.render).html(i),jQuery("#"+e).datepicker({changeYear:!0,changeMonth:!0,numberOfMonths:1,dateFormat:this.format}),jQuery("#"+e).change(function(){t.value=jQuery(this).val(),t.fire("change")})},this.setValue=function(t){this.value=t,mwt.set_value(this.id,t)}},MWT.extends(MWT.DatepickerField,MWT.Field)},function(t,e){},,function(t,e){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};/*! jQuery UI - v1.11.4 - 2016-05-16
	* http://jqueryui.com
	* Includes: core.js, widget.js, mouse.js, position.js, draggable.js, resizable.js, accordion.js, autocomplete.js, button.js, datepicker.js, dialog.js, menu.js, progressbar.js, selectmenu.js, slider.js, spinner.js, tabs.js, tooltip.js, effect.js, effect-blind.js, effect-bounce.js, effect-clip.js, effect-drop.js, effect-explode.js, effect-fade.js, effect-fold.js, effect-highlight.js, effect-puff.js, effect-pulsate.js, effect-scale.js, effect-shake.js, effect-size.js, effect-slide.js, effect-transfer.js
	* Copyright jQuery Foundation and other contributors; Licensed MIT */
!function(t){t(jQuery)}(function(t){function e(t){for(var e,i;t.length&&t[0]!==document;){if(e=t.css("position"),("absolute"===e||"relative"===e||"fixed"===e)&&(i=parseInt(t.css("zIndex"),10),!isNaN(i)&&0!==i))return i;t=t.parent()}return 0}function a(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"关闭",prevText:"&#x3c;上月",nextText:"下月&#x3e;",currentText:"今天",monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthNamesShort:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayNames:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayNamesShort:["周日","周一","周二","周三","周四","周五","周六"],dayNamesMin:["日","一","二","三","四","五","六"],weekHeader:"周",dateFormat:"yy-mm-dd",firstDay:1,isRTL:!1,showMonthAfterYear:!0,yearSuffix:"年"},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-20:c+50",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=n(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function n(e){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.delegate(i,"mouseout",function(){t(this).removeClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&t(this).removeClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&t(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",s)}function s(){t.datepicker._isDisabledDatepicker(o.inline?o.dpDiv.parent()[0]:o.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&t(this).addClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&t(this).addClass("ui-datepicker-next-hover"))}function r(e,i){t.extend(e,i);for(var a in i)null==i[a]&&(e[a]=i[a]);return e}/*!
	  * jQuery UI Core 1.11.4
	  * http://jqueryui.com
	  *
	  * Copyright jQuery Foundation and other contributors
	  * Released under the MIT license.
	  * http://jquery.org/license
	  *
	  * http://api.jqueryui.com/category/ui-core/
	  */
t.ui=t.ui||{},t.extend(t.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),/*!
	  * jQuery UI Datepicker 1.11.4
	  * http://jqueryui.com
	  *
	  * Copyright jQuery Foundation and other contributors
	  * Released under the MIT license.
	  * http://jquery.org/license
	  *
	  * http://api.jqueryui.com/datepicker/
	  */
t.extend(t.ui,{datepicker:{version:"1.11.4"}});var o;t.extend(a.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return r(this._defaults,t||{}),this},_attachDatepicker:function(e,i){var a,n,s;a=e.nodeName.toLowerCase(),n="div"===a||"span"===a,e.id||(this.uuid+=1,e.id="dp"+this.uuid),s=this._newInst(t(e),n),s.settings=t.extend({},i||{}),"input"===a?this._connectDatepicker(e,s):n&&this._inlineDatepicker(e,s)},_newInst:function(e,i){var a=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:a,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?n(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,i){var a=t(e);i.append=t([]),i.trigger=t([]),a.hasClass(this.markerClassName)||(this._attachments(a,i),a.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),t.data(e,"datepicker",i),i.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,i){var a,n,s,r=this._get(i,"appendText"),o=this._get(i,"isRTL");i.append&&i.append.remove(),r&&(i.append=t("<span class='"+this._appendClass+"'>"+r+"</span>"),e[o?"before":"after"](i.append)),e.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),a=this._get(i,"showOn"),"focus"!==a&&"both"!==a||e.focus(this._showDatepicker),"button"!==a&&"both"!==a||(n=this._get(i,"buttonText"),s=this._get(i,"buttonImage"),i.trigger=t(this._get(i,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:s,alt:n,title:n}):t("<button type='button'></button>").addClass(this._triggerClass).html(s?t("<img/>").attr({src:s,alt:n,title:n}):n)),e[o?"before":"after"](i.trigger),i.trigger.click(function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,i,a,n,s=new Date(2009,11,20),r=this._get(t,"dateFormat");r.match(/[DM]/)&&(e=function(t){for(i=0,a=0,n=0;n<t.length;n++)t[n].length>i&&(i=t[n].length,a=n);return a},s.setMonth(e(this._get(t,r.match(/MM/)?"monthNames":"monthNamesShort"))),s.setDate(e(this._get(t,r.match(/DD/)?"dayNames":"dayNamesShort"))+20-s.getDay())),t.input.attr("size",this._formatDate(t,s).length)}},_inlineDatepicker:function(e,i){var a=t(e);a.hasClass(this.markerClassName)||(a.addClass(this.markerClassName).append(i.dpDiv),t.data(e,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(e),i.dpDiv.css("display","block"))},_dialogDatepicker:function(e,i,a,n,s){var o,l,c,u,d,h=this._dialogInst;return h||(this.uuid+=1,o="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+o+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),t("body").append(this._dialogInput),h=this._dialogInst=this._newInst(this._dialogInput,!1),h.settings={},t.data(this._dialogInput[0],"datepicker",h)),r(h.settings,n||{}),i=i&&i.constructor===Date?this._formatDate(h,i):i,this._dialogInput.val(i),this._pos=s?s.length?s:[s.pageX,s.pageY]:null,this._pos||(l=document.documentElement.clientWidth,c=document.documentElement.clientHeight,u=document.documentElement.scrollLeft||document.body.scrollLeft,d=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[l/2-100+u,c/2-150+d]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),h.settings.onSelect=a,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",h),this},_destroyDatepicker:function(e){var i,a=t(e),n=t.data(e,"datepicker");a.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),t.removeData(e,"datepicker"),"input"===i?(n.append.remove(),n.trigger.remove(),a.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):"div"!==i&&"span"!==i||a.removeClass(this.markerClassName).empty(),o===n&&(o=null))},_enableDatepicker:function(e){var i,a,n=t(e),s=t.data(e,"datepicker");n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!1,s.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==i&&"span"!==i||(a=n.children("."+this._inlineClass),a.children().removeClass("ui-state-disabled"),a.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var i,a,n=t(e),s=t.data(e,"datepicker");n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!0,s.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==i&&"span"!==i||(a=n.children("."+this._inlineClass),a.children().addClass("ui-state-disabled"),a.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,i,a){var n,s,o,l,c=this._getInst(e);return 2===arguments.length&&"string"==typeof i?"defaults"===i?t.extend({},t.datepicker._defaults):c?"all"===i?t.extend({},c.settings):this._get(c,i):null:(n=i||{},"string"==typeof i&&(n={},n[i]=a),void(c&&(this._curInst===c&&this._hideDatepicker(),s=this._getDateDatepicker(e,!0),o=this._getMinMaxDate(c,"min"),l=this._getMinMaxDate(c,"max"),r(c.settings,n),null!==o&&void 0!==n.dateFormat&&void 0===n.minDate&&(c.settings.minDate=this._formatDate(c,o)),null!==l&&void 0!==n.dateFormat&&void 0===n.maxDate&&(c.settings.maxDate=this._formatDate(c,l)),"disabled"in n&&(n.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),c),this._autoSize(c),this._setDate(c,s),this._updateAlternate(c),this._updateDatepicker(c))))},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var i=this._getInst(t);i&&(this._setDate(i,e),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(t,e){var i=this._getInst(t);return i&&!i.inline&&this._setDateFromField(i,e),i?this._getDate(i):null},_doKeyDown:function(e){var i,a,n,s=t.datepicker._getInst(e.target),r=!0,o=s.dpDiv.is(".ui-datepicker-rtl");if(s._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),r=!1;break;case 13:return n=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",s.dpDiv),n[0]&&t.datepicker._selectDay(e.target,s.selectedMonth,s.selectedYear,n[0]),i=t.datepicker._get(s,"onSelect"),i?(a=t.datepicker._formatDate(s),i.apply(s.input?s.input[0]:null,[a,s])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(s,"stepBigMonths"):-t.datepicker._get(s,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(s,"stepBigMonths"):+t.datepicker._get(s,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),r=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),r=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,o?1:-1,"D"),r=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(s,"stepBigMonths"):-t.datepicker._get(s,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),r=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,o?-1:1,"D"),r=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(s,"stepBigMonths"):+t.datepicker._get(s,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),r=e.ctrlKey||e.metaKey;break;default:r=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):r=!1;r&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var i,a,n=t.datepicker._getInst(e.target);if(t.datepicker._get(n,"constrainInput"))return i=t.datepicker._possibleChars(t.datepicker._get(n,"dateFormat")),a=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||a<" "||!i||i.indexOf(a)>-1},_doKeyUp:function(e){var i,a=t.datepicker._getInst(e.target);if(a.input.val()!==a.lastVal)try{i=t.datepicker.parseDate(t.datepicker._get(a,"dateFormat"),a.input?a.input.val():null,t.datepicker._getFormatConfig(a)),i&&(t.datepicker._setDateFromField(a),t.datepicker._updateAlternate(a),t.datepicker._updateDatepicker(a))}catch(t){}return!0},_showDatepicker:function(i){if(i=i.target||i,"input"!==i.nodeName.toLowerCase()&&(i=t("input",i.parentNode)[0]),!t.datepicker._isDisabledDatepicker(i)&&t.datepicker._lastInput!==i){var a,n,s,o,l,c,u;a=t.datepicker._getInst(i),t.datepicker._curInst&&t.datepicker._curInst!==a&&(t.datepicker._curInst.dpDiv.stop(!0,!0),a&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),n=t.datepicker._get(a,"beforeShow"),s=n?n.apply(i,[i,a]):{},s!==!1&&(r(a.settings,s),a.lastVal=null,t.datepicker._lastInput=i,t.datepicker._setDateFromField(a),t.datepicker._inDialog&&(i.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(i),t.datepicker._pos[1]+=i.offsetHeight),o=!1,t(i).parents().each(function(){return o|="fixed"===t(this).css("position"),!o}),l={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,a.dpDiv.empty(),a.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(a),l=t.datepicker._checkOffset(a,l,o),a.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":o?"fixed":"absolute",display:"none",left:l.left+"px",top:l.top+"px"}),a.inline||(c=t.datepicker._get(a,"showAnim"),u=t.datepicker._get(a,"duration"),a.dpDiv.css("z-index",e(t(i))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[c]?a.dpDiv.show(c,t.datepicker._get(a,"showOptions"),u):a.dpDiv[c||"show"](c?u:null),t.datepicker._shouldFocusInput(a)&&a.input.focus(),t.datepicker._curInst=a))}},_updateDatepicker:function(e){this.maxRows=4,o=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var i,a=this._getNumberOfMonths(e),n=a[1],r=17,l=e.dpDiv.find("."+this._dayOverClass+" a");l.length>0&&s.apply(l.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),n>1&&e.dpDiv.addClass("ui-datepicker-multi-"+n).css("width",r*n+"em"),e.dpDiv[(1!==a[0]||1!==a[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.focus(),e.yearshtml&&(i=e.yearshtml,setTimeout(function(){i===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),i=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,i,a){var n=e.dpDiv.outerWidth(),s=e.dpDiv.outerHeight(),r=e.input?e.input.outerWidth():0,o=e.input?e.input.outerHeight():0,l=document.documentElement.clientWidth+(a?0:t(document).scrollLeft()),c=document.documentElement.clientHeight+(a?0:t(document).scrollTop());return i.left-=this._get(e,"isRTL")?n-r:0,i.left-=a&&i.left===e.input.offset().left?t(document).scrollLeft():0,i.top-=a&&i.top===e.input.offset().top+o?t(document).scrollTop():0,i.left-=Math.min(i.left,i.left+n>l&&l>n?Math.abs(i.left+n-l):0),i.top-=Math.min(i.top,i.top+s>c&&c>s?Math.abs(s+o):0),i},_findPos:function(e){for(var i,a=this._getInst(e),n=this._get(a,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[n?"previousSibling":"nextSibling"];return i=t(e).offset(),[i.left,i.top]},_hideDatepicker:function(e){var i,a,n,s,r=this._curInst;!r||e&&r!==t.data(e,"datepicker")||this._datepickerShowing&&(i=this._get(r,"showAnim"),a=this._get(r,"duration"),n=function(){t.datepicker._tidyDialog(r)},t.effects&&(t.effects.effect[i]||t.effects[i])?r.dpDiv.hide(i,t.datepicker._get(r,"showOptions"),a,n):r.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?a:null,n),i||n(),this._datepickerShowing=!1,s=this._get(r,"onClose"),s&&s.apply(r.input?r.input[0]:null,[r.input?r.input.val():"",r]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var i=t(e.target),a=t.datepicker._getInst(i[0]);(i[0].id===t.datepicker._mainDivId||0!==i.parents("#"+t.datepicker._mainDivId).length||i.hasClass(t.datepicker.markerClassName)||i.closest("."+t.datepicker._triggerClass).length||!t.datepicker._datepickerShowing||t.datepicker._inDialog&&t.blockUI)&&(!i.hasClass(t.datepicker.markerClassName)||t.datepicker._curInst===a)||t.datepicker._hideDatepicker()}},_adjustDate:function(e,i,a){var n=t(e),s=this._getInst(n[0]);this._isDisabledDatepicker(n[0])||(this._adjustInstDate(s,i+("M"===a?this._get(s,"showCurrentAtPos"):0),a),this._updateDatepicker(s))},_gotoToday:function(e){var i,a=t(e),n=this._getInst(a[0]);this._get(n,"gotoCurrent")&&n.currentDay?(n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear):(i=new Date,n.selectedDay=i.getDate(),n.drawMonth=n.selectedMonth=i.getMonth(),n.drawYear=n.selectedYear=i.getFullYear()),this._notifyChange(n),this._adjustDate(a)},_selectMonthYear:function(e,i,a){var n=t(e),s=this._getInst(n[0]);s["selected"+("M"===a?"Month":"Year")]=s["draw"+("M"===a?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(s),this._adjustDate(n)},_selectDay:function(e,i,a,n){var s,r=t(e);t(n).hasClass(this._unselectableClass)||this._isDisabledDatepicker(r[0])||(s=this._getInst(r[0]),s.selectedDay=s.currentDay=t("a",n).html(),s.selectedMonth=s.currentMonth=i,s.selectedYear=s.currentYear=a,this._selectDate(e,this._formatDate(s,s.currentDay,s.currentMonth,s.currentYear)))},_clearDate:function(e){var i=t(e);this._selectDate(i,"")},_selectDate:function(e,a){var n,s=t(e),r=this._getInst(s[0]);a=null!=a?a:this._formatDate(r),r.input&&r.input.val(a),this._updateAlternate(r),n=this._get(r,"onSelect"),n?n.apply(r.input?r.input[0]:null,[a,r]):r.input&&r.input.trigger("change"),r.inline?this._updateDatepicker(r):(this._hideDatepicker(),this._lastInput=r.input[0],"object"!==i(r.input[0])&&r.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var i,a,n,s=this._get(e,"altField");s&&(i=this._get(e,"altFormat")||this._get(e,"dateFormat"),a=this._getDate(e),n=this.formatDate(i,a,this._getFormatConfig(e)),t(s).each(function(){t(this).val(n)}))},noWeekends:function(t){var e=t.getDay();return[e>0&&e<6,""]},iso8601Week:function(t){var e,i=new Date(t.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),e=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((e-i)/864e5)/7)+1},parseDate:function(e,a,n){if(null==e||null==a)throw"Invalid arguments";if(a="object"===("undefined"==typeof a?"undefined":i(a))?a.toString():a+"",""===a)return null;var s,r,o,l,c=0,u=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff,d="string"!=typeof u?u:(new Date).getFullYear()%100+parseInt(u,10),h=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,p=(n?n.dayNames:null)||this._defaults.dayNames,f=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,m=(n?n.monthNames:null)||this._defaults.monthNames,g=-1,v=-1,y=-1,w=-1,b=!1,k=function(t){var i=s+1<e.length&&e.charAt(s+1)===t;return i&&s++,i},_=function(t){var e=k(t),i="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,n="y"===t?i:1,s=new RegExp("^\\d{"+n+","+i+"}"),r=a.substring(c).match(s);if(!r)throw"Missing number at position "+c;return c+=r[0].length,parseInt(r[0],10)},x=function(e,i,n){var s=-1,r=t.map(k(e)?n:i,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(r,function(t,e){var i=e[1];if(a.substr(c,i.length).toLowerCase()===i.toLowerCase())return s=e[0],c+=i.length,!1}),s!==-1)return s+1;throw"Unknown name at position "+c},j=function(){if(a.charAt(c)!==e.charAt(s))throw"Unexpected literal at position "+c;c++};for(s=0;s<e.length;s++)if(b)"'"!==e.charAt(s)||k("'")?j():b=!1;else switch(e.charAt(s)){case"d":y=_("d");break;case"D":x("D",h,p);break;case"o":w=_("o");break;case"m":v=_("m");break;case"M":v=x("M",f,m);break;case"y":g=_("y");break;case"@":l=new Date(_("@")),g=l.getFullYear(),v=l.getMonth()+1,y=l.getDate();break;case"!":l=new Date((_("!")-this._ticksTo1970)/1e4),g=l.getFullYear(),v=l.getMonth()+1,y=l.getDate();break;case"'":k("'")?j():b=!0;break;default:j()}if(c<a.length&&(o=a.substr(c),!/^\s+/.test(o)))throw"Extra/unparsed characters found in date: "+o;if(g===-1?g=(new Date).getFullYear():g<100&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(g<=d?0:-100)),w>-1)for(v=1,y=w;;){if(r=this._getDaysInMonth(g,v-1),y<=r)break;v++,y-=r}if(l=this._daylightSavingAdjust(new Date(g,v-1,y)),l.getFullYear()!==g||l.getMonth()+1!==v||l.getDate()!==y)throw"Invalid date";return l},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(t,e,i){if(!e)return"";var a,n=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,s=(i?i.dayNames:null)||this._defaults.dayNames,r=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,o=(i?i.monthNames:null)||this._defaults.monthNames,l=function(e){var i=a+1<t.length&&t.charAt(a+1)===e;return i&&a++,i},c=function(t,e,i){var a=""+e;if(l(t))for(;a.length<i;)a="0"+a;return a},u=function(t,e,i,a){return l(t)?a[e]:i[e]},d="",h=!1;if(e)for(a=0;a<t.length;a++)if(h)"'"!==t.charAt(a)||l("'")?d+=t.charAt(a):h=!1;else switch(t.charAt(a)){case"d":d+=c("d",e.getDate(),2);break;case"D":d+=u("D",e.getDay(),n,s);break;case"o":d+=c("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":d+=c("m",e.getMonth()+1,2);break;case"M":d+=u("M",e.getMonth(),r,o);break;case"y":d+=l("y")?e.getFullYear():(e.getYear()%100<10?"0":"")+e.getYear()%100;break;case"@":d+=e.getTime();break;case"!":d+=1e4*e.getTime()+this._ticksTo1970;break;case"'":l("'")?d+="'":h=!0;break;default:d+=t.charAt(a)}return d},_possibleChars:function(t){var e,i="",a=!1,n=function(i){var a=e+1<t.length&&t.charAt(e+1)===i;return a&&e++,a};for(e=0;e<t.length;e++)if(a)"'"!==t.charAt(e)||n("'")?i+=t.charAt(e):a=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":n("'")?i+="'":a=!0;break;default:i+=t.charAt(e)}return i},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var i=this._get(t,"dateFormat"),a=t.lastVal=t.input?t.input.val():null,n=this._getDefaultDate(t),s=n,r=this._getFormatConfig(t);try{s=this.parseDate(i,a,r)||n}catch(t){a=e?"":a}t.selectedDay=s.getDate(),t.drawMonth=t.selectedMonth=s.getMonth(),t.drawYear=t.selectedYear=s.getFullYear(),t.currentDay=a?s.getDate():0,t.currentMonth=a?s.getMonth():0,t.currentYear=a?s.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,i,a){var n=function(t){var e=new Date;return e.setDate(e.getDate()+t),e},s=function(i){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),i,t.datepicker._getFormatConfig(e))}catch(t){}for(var a=(i.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,n=a.getFullYear(),s=a.getMonth(),r=a.getDate(),o=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=o.exec(i);l;){switch(l[2]||"d"){case"d":case"D":r+=parseInt(l[1],10);break;case"w":case"W":r+=7*parseInt(l[1],10);break;case"m":case"M":s+=parseInt(l[1],10),r=Math.min(r,t.datepicker._getDaysInMonth(n,s));break;case"y":case"Y":n+=parseInt(l[1],10),r=Math.min(r,t.datepicker._getDaysInMonth(n,s))}l=o.exec(i)}return new Date(n,s,r)},r=null==i||""===i?a:"string"==typeof i?s(i):"number"==typeof i?isNaN(i)?a:n(i):new Date(i.getTime());return r=r&&"Invalid Date"===r.toString()?a:r,r&&(r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0)),this._daylightSavingAdjust(r)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var a=!e,n=t.selectedMonth,s=t.selectedYear,r=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=r.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=r.getMonth(),t.drawYear=t.selectedYear=t.currentYear=r.getFullYear(),n===t.selectedMonth&&s===t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(a?"":this._formatDate(t))},_getDate:function(t){var e=!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return e},_attachHandlers:function(e){var i=this._get(e,"stepMonths"),a="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(a,-i,"M")},next:function(){t.datepicker._adjustDate(a,+i,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(a)},selectDay:function(){return t.datepicker._selectDay(a,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(a,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(a,this,"Y"),!1}};t(this).bind(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,i,a,n,s,r,o,l,c,u,d,h,p,f,m,g,v,y,w,b,k,_,x,j,M,D,Q,T,I,C,A,W,S,F,E,N,P,Y,B,z=new Date,L=this._daylightSavingAdjust(new Date(z.getFullYear(),z.getMonth(),z.getDate())),O=this._get(t,"isRTL"),R=this._get(t,"showButtonPanel"),H=this._get(t,"hideIfNoPrevNext"),U=this._get(t,"navigationAsDateFormat"),K=this._getNumberOfMonths(t),V=this._get(t,"showCurrentAtPos"),$=this._get(t,"stepMonths"),X=1!==K[0]||1!==K[1],G=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),q=this._getMinMaxDate(t,"min"),J=this._getMinMaxDate(t,"max"),Z=t.drawMonth-V,tt=t.drawYear;if(Z<0&&(Z+=12,tt--),J)for(e=this._daylightSavingAdjust(new Date(J.getFullYear(),J.getMonth()-K[0]*K[1]+1,J.getDate())),e=q&&e<q?q:e;this._daylightSavingAdjust(new Date(tt,Z,1))>e;)Z--,Z<0&&(Z=11,tt--);for(t.drawMonth=Z,t.drawYear=tt,i=this._get(t,"prevText"),i=U?this.formatDate(i,this._daylightSavingAdjust(new Date(tt,Z-$,1)),this._getFormatConfig(t)):i,a=this._canAdjustMonth(t,-1,tt,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><i class='fa fa-arrow-circle-left'></i></a>":H?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><i class='fa fa-arrow-circle-left'></i></a>",n=this._get(t,"nextText"),n=U?this.formatDate(n,this._daylightSavingAdjust(new Date(tt,Z+$,1)),this._getFormatConfig(t)):n,s=this._canAdjustMonth(t,1,tt,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+n+"'><i class='fa fa-arrow-circle-right'></i></a>":H?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+n+"'><i class='fa fa-arrow-circle-right'></i></a>",r=this._get(t,"currentText"),o=this._get(t,"gotoCurrent")&&t.currentDay?G:L,r=U?this.formatDate(r,o,this._getFormatConfig(t)):r,l=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",c=R?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(O?l:"")+(this._isInRange(t,o)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+r+"</button>":"")+(O?"":l)+"</div>":"",u=parseInt(this._get(t,"firstDay"),10),u=isNaN(u)?0:u,d=this._get(t,"showWeek"),h=this._get(t,"dayNames"),p=this._get(t,"dayNamesMin"),f=this._get(t,"monthNames"),m=this._get(t,"monthNamesShort"),g=this._get(t,"beforeShowDay"),v=this._get(t,"showOtherMonths"),y=this._get(t,"selectOtherMonths"),w=this._getDefaultDate(t),b="",_=0;_<K[0];_++){for(x="",this.maxRows=4,j=0;j<K[1];j++){if(M=this._daylightSavingAdjust(new Date(tt,Z,t.selectedDay)),D=" ui-corner-all",Q="",X){if(Q+="<div class='ui-datepicker-group",K[1]>1)switch(j){case 0:Q+=" ui-datepicker-group-first",D=" ui-corner-"+(O?"right":"left");break;case K[1]-1:Q+=" ui-datepicker-group-last",D=" ui-corner-"+(O?"left":"right");break;default:Q+=" ui-datepicker-group-middle",D=""}Q+="'>"}for(Q+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+D+"'>"+(/all|left/.test(D)&&0===_?O?s:a:"")+(/all|right/.test(D)&&0===_?O?a:s:"")+this._generateMonthYearHeader(t,Z,tt,q,J,_>0||j>0,f,m)+"</div><table class='ui-datepicker-calendar'><thead><tr>",T=d?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",k=0;k<7;k++)I=(k+u)%7,T+="<th scope='col'"+((k+u+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+h[I]+"'>"+p[I]+"</span></th>";for(Q+=T+"</tr></thead><tbody>",C=this._getDaysInMonth(tt,Z),tt===t.selectedYear&&Z===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,C)),A=(this._getFirstDayOfMonth(tt,Z)-u+7)%7,W=Math.ceil((A+C)/7),S=X&&this.maxRows>W?this.maxRows:W,this.maxRows=S,F=this._daylightSavingAdjust(new Date(tt,Z,1-A)),E=0;E<S;E++){for(Q+="<tr>",N=d?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(F)+"</td>":"",k=0;k<7;k++)P=g?g.apply(t.input?t.input[0]:null,[F]):[!0,""],Y=F.getMonth()!==Z,B=Y&&!y||!P[0]||q&&F<q||J&&F>J,N+="<td class='"+((k+u+6)%7>=5?" ui-datepicker-week-end":"")+(Y?" ui-datepicker-other-month":"")+(F.getTime()===M.getTime()&&Z===t.selectedMonth&&t._keyEvent||w.getTime()===F.getTime()&&w.getTime()===M.getTime()?" "+this._dayOverClass:"")+(B?" "+this._unselectableClass+" ui-state-disabled":"")+(Y&&!v?"":" "+P[1]+(F.getTime()===G.getTime()?" "+this._currentClass:"")+(F.getTime()===L.getTime()?" ui-datepicker-today":""))+"'"+(Y&&!v||!P[2]?"":" title='"+P[2].replace(/'/g,"&#39;")+"'")+(B?"":" data-handler='selectDay' data-event='click' data-month='"+F.getMonth()+"' data-year='"+F.getFullYear()+"'")+">"+(Y&&!v?"&#xa0;":B?"<span class='ui-state-default'>"+F.getDate()+"</span>":"<a class='ui-state-default"+(F.getTime()===L.getTime()?" ui-state-highlight":"")+(F.getTime()===G.getTime()?" ui-state-active":"")+(Y?" ui-priority-secondary":"")+"' href='#'>"+F.getDate()+"</a>")+"</td>",F.setDate(F.getDate()+1),F=this._daylightSavingAdjust(F);Q+=N+"</tr>"}Z++,Z>11&&(Z=0,tt++),Q+="</tbody></table>"+(X?"</div>"+(K[0]>0&&j===K[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),x+=Q}b+=x}return b+=c,t._keyEvent=!1,b},_generateMonthYearHeader:function(t,e,i,a,n,s,r,o){var l,c,u,d,h,p,f,m,g=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),y=this._get(t,"showMonthAfterYear"),w="<div class='ui-datepicker-title'>",b="";if(s||!g)b+="<span class='ui-datepicker-month'>"+r[e]+"</span>";else{for(l=a&&a.getFullYear()===i,c=n&&n.getFullYear()===i,b+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",u=0;u<12;u++)(!l||u>=a.getMonth())&&(!c||u<=n.getMonth())&&(b+="<option value='"+u+"'"+(u===e?" selected='selected'":"")+">"+o[u]+"</option>");b+="</select>"}if(y||(w+=b+(!s&&g&&v?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",s||!v)w+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(d=this._get(t,"yearRange").split(":"),h=(new Date).getFullYear(),p=function(t){var e=t.match(/c[+\-].*/)?i+parseInt(t.substring(1),10):t.match(/[+\-].*/)?h+parseInt(t,10):parseInt(t,10);return isNaN(e)?h:e},f=p(d[0]),m=Math.max(f,p(d[1]||"")),f=a?Math.max(f,a.getFullYear()):f,m=n?Math.min(m,n.getFullYear()):m,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";f<=m;f++)t.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";t.yearshtml+="</select>",w+=t.yearshtml,t.yearshtml=null}return w+=this._get(t,"yearSuffix"),y&&(w+=(!s&&g&&v?"":"&#xa0;")+b),w+="</div>"},_adjustInstDate:function(t,e,i){var a=t.drawYear+("Y"===i?e:0),n=t.drawMonth+("M"===i?e:0),s=Math.min(t.selectedDay,this._getDaysInMonth(a,n))+("D"===i?e:0),r=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(a,n,s)));t.selectedDay=r.getDate(),t.drawMonth=t.selectedMonth=r.getMonth(),t.drawYear=t.selectedYear=r.getFullYear(),"M"!==i&&"Y"!==i||this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),a=this._getMinMaxDate(t,"max"),n=i&&e<i?i:e;return a&&n>a?a:n},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,a){var n=this._getNumberOfMonths(t),s=this._daylightSavingAdjust(new Date(i,a+(e<0?e:n[0]*n[1]),1));return e<0&&s.setDate(this._getDaysInMonth(s.getFullYear(),s.getMonth())),this._isInRange(t,s)},_isInRange:function(t,e){var i,a,n=this._getMinMaxDate(t,"min"),s=this._getMinMaxDate(t,"max"),r=null,o=null,l=this._get(t,"yearRange");return l&&(i=l.split(":"),a=(new Date).getFullYear(),r=parseInt(i[0],10),o=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(r+=a),i[1].match(/[+\-].*/)&&(o+=a)),(!n||e.getTime()>=n.getTime())&&(!s||e.getTime()<=s.getTime())&&(!r||e.getFullYear()>=r)&&(!o||e.getFullYear()<=o)},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,a,n){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var s=e?"object"===("undefined"==typeof e?"undefined":i(e))?e:this._daylightSavingAdjust(new Date(n,a,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));
return this.formatDate(this._get(t,"dateFormat"),s,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).mousedown(t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(i)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i))},t.datepicker=new a,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.11.4"})},function(t,e){"use strict";MWT.DaterangepickerField=function(t){function e(t){var e=jQuery("#"+t),u='<div class=\'btn-bar\'><div class="mwt-btn-group" style="float:left;"><button class="date-submit mwt-btn mwt-btn-default mwt-btn-xs" data-value="-90">近90天</button><button class="date-submit mwt-btn mwt-btn-default mwt-btn-xs" data-value="-60">近60天</button><button class="date-submit mwt-btn mwt-btn-default mwt-btn-xs" data-value="-30">近30天</button><button class="date-submit mwt-btn mwt-btn-default mwt-btn-xs" data-value="-7">近7天</button><button class="date-submit mwt-btn mwt-btn-default mwt-btn-xs" data-value="-1">昨天</button><button class="date-submit mwt-btn mwt-btn-default mwt-btn-xs" data-value="0">今天</button><button class="date-submit mwt-btn mwt-btn-default mwt-btn-xs" data-value="na">置空</button></div><div style="float:right"><button class="date-submit mwt-btn mwt-btn-primary mwt-btn-xs" data-value="yes">确定</button></div></div><div class="date-area" id="'+r+'" style="display:inline-block;"></div><div class="date-area" id="'+o+'" style="float:right;"></div>';e.html(u).css({background:"#eee",border:"solid 1px #aaa"});var d=jQuery("#"+r),h=jQuery("#"+o);d.datepicker({changeMonth:!0,numberOfMonths:1,onSelect:function(t){h.datepicker("option","minDate",t)}}),h.datepicker({changeMonth:!0,numberOfMonths:1,onSelect:function(t){d.datepicker("option","maxDate",t)}});var p=jQuery("#"+t);p.find(".date-submit").click(function(){var t=jQuery(this),r=t.data("value");if("cancel"==r)return void e.hide();if("yes"==r){var o=d.datepicker("getDate").format(l),u=h.datepicker("getDate").format(l);n=new Date(o),s=new Date(u)}else{if("na"==r)return r="",a.setValue(r),void e.hide();r=parseInt(r),n=new Date,s=new Date,r<0&&(n.setTime(n.getTime()+864e5*r),s.setTime(s.getTime()-864e5)),i()}var p=d.datepicker("getDate").format(l),f=h.datepicker("getDate").format(l);a.value=p+" ~ "+f,jQuery("#"+c).val(a.value),e.hide(),a.fire("change")})}function i(){jQuery("#"+r).datepicker("setDate",n),jQuery("#"+o).datepicker("setDate",s)}var a=this;this.listeners={},this.value=-1;var n,s,r,o,l="yy/mm/dd",c="";this.float="left",t&&(this.construct(t),isset(t.format)&&(l=t.format),isset(t.float)&&(this.float=t.float),""==this.id&&(this.id=this.render+"txt"),c=this.id,r=this.id+"from",o=this.id+"to"),this.create=function(){var t=' style="width:165px;font:normal 12px Arial;" ';""!=this.style&&(t=' style="'+this.style+'" ');var a="<input type='text' class='mwt-field mwt-datepicker'"+t+"id='"+c+"' value='"+this.value+"' placeholder='请选择时间区间' readonly/><i class=\"fa fa-calendar\"></i>";jQuery("#"+this.render).html(a);var n=jQuery("#"+c);n.click(function(){mwt.showPop(c,c+"pop",470,281,function(t){""==jQuery("#"+t).html()&&e(t),i()})}),this.setValue(this.value)},this.setValue=function(t){if(mwt.isNumber(t)){t=parseInt(t),n=new Date,s=new Date,t<0?(n.setTime(n.getTime()+864e5*t),s.setTime(s.getTime()-864e5)):(n.setTime(n.getTime()+0),s.setTime(s.getTime()+864e5*t));var e=n.format(l),i=s.format(l);t=e+" ~ "+i}this.value=t,jQuery("#"+c).val(this.value);var a=t.split(" ~ ");n=new Date(a[0]),s=new Date(a[1]),this.fire("change")}},MWT.extends(MWT.DaterangepickerField,MWT.Field)},function(t,e){"use strict";MWT.SelboxField=function(t){function e(){var t=u-16,e='<div class="mwt-selbox-bar"><div class="mwt-search"><input id="so-'+o+'" type="text" class="mwt-field" style="width:'+t+'px;"><i id="sobtn-'+o+'" class="fa fa-search"></i></div></div><div class="mwt-layout-fill" style="top:33px;" id="opts-'+o+'"></div>';jQuery("#"+o).html(e),jQuery("#so-"+o).unbind("change").change(i),jQuery("#sobtn-"+o).unbind("click").click(i),i()}function i(){for(var t=mwt.get_value("so-"+o),e=[],i=0;i<f.length;++i){var a=f[i];if(!(""!=t&&a.text.indexOf(t)<0)){var n='<a href="javascript:;" name="li-'+o+'" class="mwt-nav-li" data-v="'+a.value+'">'+a.text+"</a>";e.push(n)}}jQuery("#opts-"+o).html(e.join("")),jQuery("[name=li-"+o+"]").unbind("click").click(function(){var t=jQuery(this).data("v");jQuery(this).html();m.setValue(t)})}this.listeners={};var a,n,s,r,o,l=!1,c=100,u=130,d=170,h="请选择",p="",f=[];t&&(this.construct(t),t.errmsg&&(a=t.errmsg),t.checkfun&&(n=t.checkfun),t.empty&&(l=t.empty),t.width&&(c=t.width),t.popWidth&&(u=t.popWidth),t.popHeight&&(d=t.popHeight),t.text&&(h=t.text),t.options&&(f=t.options),s=this.render+"-btn",r=this.render+"-btn-txt",o=this.render+"-opt",t.id&&(p=t.id));var m=this;this.create=function(){var t=c-30,i='<div><a id="'+s+'" class="mwt-field mwt-selbox" href="javascript:;" style="width:'+c+'px;"><span id="'+r+'" style="width:'+t+'px;">'+h+'</span><i class="fa fa-caret-down"></i></a><input type="hidden" id="'+p+'"></div>';jQuery("#"+this.render).html(i),jQuery("#"+s).click(function(t){mwt.showPop(s,o,u,d,function(){jQuery("#"+o).hasClass("mwt-selbox-pop")||(jQuery("#"+o).addClass("mwt-selbox-pop"),e())}),jQuery(document).on("click",function(){jQuery("#"+o).hide()}),t.stopPropagation()}),jQuery("#"+o).click(function(t){t.stopPropagation()}),this.setValue(this.value)},this.getPopDivId=function(){return o},this.setValue=function(t){this.value=t,jQuery("#"+p).val(t);for(var e=0;e<f.length;++e)if(f[e].value==t){this.setText(f[e].text);break}this.fire("change")},this.setText=function(t){jQuery("#"+r).html(t),jQuery("#"+o).hide()},this.validate=function(){return!0}},MWT.extends(MWT.SelboxField,MWT.Field)},function(t,e){"use strict";MWT.ComboxField=function(t){this.listeners={};var e,i,a,n,s,r,o=!1,l="auto",c=400,u=300,d="请选择...";t&&(this.construct(t),t.errmsg&&(i=t.errmsg),t.checkfun&&(a=t.checkfun),t.empty&&(o=t.empty),t.width&&(l=t.width),t.popWidth&&(c=t.popWidth),t.popHeight&&(u=t.popHeight),t.text&&(d=t.text),n=this.render+"-btn",s=this.render+"-btn-txt",r=this.render+"-opt"),this.create=function(){var t=this,a="text-align:left;overflow:hidden;";"auto"!=l&&(a+="width:"+l+"px");var o='<div><a id="'+n+'" class="mwt-field mwt-btn mwt-btn-default '+this.cls+'" href="javascript:;" style="'+this.style+'"><span id="'+s+'" style="'+a+'">'+d+'</span><i class="fa fa-caret-down"></i></a></div></div>';jQuery("#"+this.render).html(o),e=new MWT.Popover({anchor:n,html:i,cls:"mwt-popover-danger"}),this.setValue(this.value),jQuery("#"+n).click(function(e){mwt.showPop(n,r,c,u,function(){t.fire("pop")}),t.fire("pop"),jQuery(document).on("click",function(){jQuery("#"+r).hide()}),e.stopPropagation()}),jQuery("#"+r).click(function(t){t.stopPropagation()}),this.fire("create")},this.getPopDivId=function(){return r},this.setValue=function(t){this.value=t},this.setText=function(t){jQuery("#"+s).html(t),jQuery("#"+r).hide()},this.validate=function(){e.hide();var t=this.value;return!(!o&&""==t||a&&!a(this.value))||(e.pop(),setTimeout(e.hide,2e3),!1)}},MWT.extends(MWT.ComboxField,MWT.Field)},function(t,e){"use strict";MWT.SelectComboxField=function(t){this.listeners={};var e,i,a,n,s,r,o=!1,l="auto",c=400,u=300,d="请选择...";t&&(this.construct(t),t.errmsg&&(i=t.errmsg),t.checkfun&&(a=t.checkfun),t.empty&&(o=t.empty),t.width&&(l=t.width),t.popWidth&&(c=t.popWidth),t.popHeight&&(u=t.popHeight),t.text&&(d=t.text),n=this.render+"-btn",s=this.render+"-btn-txt",r=this.render+"-opt"),this.create=function(){var t=this,a="text-align:left;overflow:hidden;";"auto"!=l&&(a+="width:"+l+"px");var o='<div><a id="'+n+'" class="mwt-field mwt-btn mwt-btn-default '+this.cls+'" href="javascript:;" style="'+this.style+'"><span id="'+s+'" style="'+a+'">'+d+'</span><i class="fa fa-caret-down"></i></a></div></div>';jQuery("#"+this.render).html(o),e=new MWT.Popover({anchor:n,html:i,cls:"mwt-popover-danger"}),this.setValue(this.value),jQuery("#"+n).click(function(e){mwt.showPop(n,r,c,u,function(){t.fire("pop")}),t.fire("pop"),jQuery(document).on("click",function(){jQuery("#"+r).hide()}),e.stopPropagation()}),jQuery("#"+r).click(function(t){t.stopPropagation()})},this.getPopDivId=function(){return r},this.setValue=function(t){this.value=t},this.setText=function(t){jQuery("#"+s).html(t),jQuery("#"+r).hide()},this.validate=function(){e.hide();var t=this.value;return!(!o&&""==t||a&&!a(this.value))||(e.pop(),setTimeout(e.hide,2e3),!1)}},MWT.extends(MWT.SelectComboxField,MWT.Field)},function(t,e,i){"use strict";i(86),MWT.CheckboxField=function(t){this.listeners={};var e,i,a,n,s=[],r=!1;t&&(isset(t.options)&&(s=t.options),this.construct(t),t.errmsg&&(i=t.errmsg),t.checkfun&&(a=t.checkfun),t.empty&&(r=t.empty)),this.create=function(){var t=this;this.id;n=this.render+"rdo";for(var a=[],r=0;r<s.length;++r){var o=s[r],l='<label class="'+this.cls+'"><input type="checkbox" name="'+n+'" value="'+o.value+'"><span style="float:right;padding-left:1px;">'+o.text+"</span></label>";a.push(l)}var c=a.join("&nbsp;&nbsp;");jQuery("#"+this.render).html(c),e=new MWT.Popover({anchor:t.render,html:i,cls:"mwt-popover-danger"}),jQuery("[name="+n+"]").change(function(){t.value=mwt.get_checkbox_values(n),t.fire("change")}),this.reset()},this.setValue=function(t){this.value=t,mwt.set_checkbox_values(n,t)},this.validate=function(){e.hide();var t=this.value;return!(!r&&""==t||a&&!a(this.value))||(e.pop(),setTimeout(e.hide,2e3),!1)}},MWT.extends(MWT.CheckboxField,MWT.Field)},function(t,e){},,function(t,e){"use strict";MWT.FileField=function(t){this.listeners={};var e,i,a,n,s,r=this,o="选择文件...",l=!1;//!< 自定义校验函数
t&&(this.construct(t),i=this.id,e=this.id+"form",t.placeholder&&(o=t.placeholder),t.errmsg&&(n=t.errmsg),t.checkfun&&(s=t.checkfun),t.empty&&(l=t.empty)),this.create=function(){var t=i+"btn",n='<div id="'+e+'" style="display:none;"></div><input id="'+t+'" type="text" class="mwt-field" readonly style="cursor:pointer;" placeholder="'+o+'">';jQuery("#"+this.render).html(n),this.createForm(),jQuery("#"+t).unbind("click").click(function(){a.val(""),a.click()})},this.createForm=function(){var t='<form method="POST" enctype="multipart/form-data"><input type="file" id="'+i+'" name="'+i+'" accept="*/*" /></form>';jQuery("#"+e).html(t),a=jQuery("#"+i),a.change(function(){var t=a.val();jQuery("#"+i+"btn").val(t),r.value=t})},this.setValue=function(){}},MWT.extends(MWT.FileField,MWT.Field)},function(t,e){"use strict";MWT.ImageField=function(t){function e(){var t='<form method="POST" enctype="multipart/form-data"><input type="file" id="'+s+'" name="imgfile" accept="image/*" style="display:none;"/></form>';jQuery("#"+s+"form").html(t),n=jQuery("#"+s),n.change(i)}function i(){n.val();jQuery.ajaxFileUpload({url:c,secureuri:!1,fileElementId:s,dataType:"json",timeout:3e4,complete:function(t){e()},success:function(t,e){d.setValue(t.data.imgurl)},error:function(t,e,i){MWT.alert(i)}})}this.listeners={};var a,n,s,r,o,l="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAAAAACreq1xAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAJ0Uk5TAP9bkSK1AAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAAFiUAABYlAUlSJPAAAAA/SURBVFjD7c9BCQAwDATB+FcWV62FUO4TOitgYOuEKyAQmAQbCAQCgUAg8HOwn1u7DAQCgUAgEBgCpwGBwEkXWwjPtMfh4DkAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDgtMjhUMTE6MDk6NTMrMDg6MDBthETtAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTA4LTI4VDExOjA5OjUzKzA4OjAwHNn8UQAAAABJRU5ErkJggg==",c="",u=!1,d=this;t&&(this.cls="mwt-upimg",this.construct(t),""==this.id&&(this.id=this.render+"img"),t.emptyImg&&(l=t.emptyImg),t.imgupapi&&(c=t.imgupapi),t.empty&&(u=t.empty),t.errmsg&&(o=t.errmsg)),this.create=function(){var t=this.render+"img";s=this.render+"file";var i=""==this.value?l:this.value,n='<img id="'+t+'" src="'+i+'" class="'+this.cls+'" style="'+this.style+'" onclick="jQuery(\'#'+s+'\').click();"><div id="'+s+'form"></div>';jQuery("#"+this.render).html(n),a=jQuery("#"+t),e(),r=new MWT.Popover({anchor:t,html:o,cls:"mwt-popover-danger"})},this.setValue=function(t){this.value=t,""!=t?a.attr("src",t):a.attr("src",l)},this.validate=function(){return r.hide(),!(!u&&""==this.value)||(r.pop(),setTimeout(r.hide,2e3),!1)}},MWT.extends(MWT.ImageField,MWT.Field)},function(t,e){"use strict";MWT.WebImageField=function(t){function e(){n.hide(),u.value=mwt.get_value(a),u.fire("change"),""!=u.value&&jQuery("#"+a+"-clear").show(),u.refresh()}function i(){var t=localStorage.getItem(l);if(t){var i=t.split("||");if(0!=i.length){for(var n='<div class="mwt-pop-words"><a id="'+this.render+'-pop-clrbtn" href="javascript:;">清空</a><ul id="'+this.render+'-wdul">',s=0;s<i.length;++s)n+='<li name="'+u.render+'-wd">'+i[s]+"</li>";n+="</ul></div>",jQuery("#"+o).show().html(n),jQuery("[name="+u.render+"-wd]").click(function(){var t=jQuery(this).html();jQuery("#"+a).val(t),e()})}}}this.listeners={};var a,n,s,r,o,l,c,u=this,d="text",h="输入图片链接",p=!1,f="max-height:100px;";//!< 图片上传API
if(t){this.construct(t),t.type&&(d=t.type),t.placeholder&&(h=t.placeholder),t.errmsg&&(s=t.errmsg),t.checkfun&&(r=t.checkfun),t.empty&&(p=t.empty),t.imgupapi&&(c=t.imgupapi),a=this.render+"txt",o=this.render+"pop",t.popStyle&&(f=t.popStyle),l=this.render+"skey";var m=new mwt.ImageUpload({ajaxapi:c})}this.create=function(){var t=' style="height:26px;"',r='<div class="mwt-row mwt-row-flex mwt-web-img-field"><div class="mwt-col-wd" style="width:110px;"><img id="img-'+a+'" src="" class="mwt-image-view"></div><div class="mwt-col-fill"><div style="position:relative"><input type="'+d+'" id="'+a+'" class="form-control '+this.cls+'" placeholder="'+h+'" style="'+this.style+';padding:0 20px 0 5px;"><i id="'+a+'-clear" class="fa fa-times-circle" style="display:none;color:#999;font-size:14px;margin-left:-20px;vertical-align:middle;"></i></div><div style="margin-top:10px;"><button id="refreshbtn-'+a+'" class="mwt-btn mwt-btn-default mwt-btn-xs"'+t+'>刷新</button>&nbsp;&nbsp;<button id="upbtn-'+a+'" class="mwt-btn mwt-btn-primary mwt-btn-xs"'+t+'>上传本地图片</button></div></div></div><div id="'+o+'" class="mwt-field-pop" style="'+f+'"></div>';jQuery("#"+this.render).html(r),n=new MWT.Popover({anchor:a,html:s,cls:"mwt-popover-danger"}),mwt.initImageView(),this.setValue(this.value);var l=jQuery("#"+a),c=jQuery("#"+a+"-clear"),p=jQuery("#"+o);l.change(e),l.focus(function(){c.show(),i(),jQuery(document).unbind("click").on("click",function(){var t=document.activeElement.id;t!=a&&(p.hide(),c.hide())}),event.stopPropagation()}),p.click(function(t){t.stopPropagation()}),c.click(function(){l.val("").focus()}),jQuery("#refreshbtn-"+a).unbind("click").on("click",u.refresh),jQuery("#upbtn-"+a).unbind("click").on("click",function(){m.upload(function(t){t.data&&t.data.imgurl&&u.setValue(t.data.imgurl)})})},this.setValue=function(t){mwt.set_value(a,t),this.value=t,this.refresh()},this.validate=function(){n.hide();var t=p?mwt.get_value(a):mwt.get_text_value(a);return!(r&&!r(t))||(n.pop(),jQuery("#"+a).focus(),setTimeout(n.hide,2e3),!1)},this.readOnly=function(t){t?jQuery("#"+a).attr("readonly",!0):jQuery("#"+a).removeAttr("readonly")},this.refresh=function(){var t=mwt.get_value(a);""!=t&&jQuery("#img-"+a).attr("src",t)}},MWT.extends(MWT.WebImageField,MWT.Field)},function(t,e){"use strict";MWT.MultiImageUploadField=function(t){function e(){var t='<form method="POST" enctype="multipart/form-data"><input type="file" id="'+r+'" name="upfile" accept="image/*" style="display:none;"/></form>';jQuery("#"+r+"form").html(t),s=jQuery("#"+r),s.change(i)}function i(){s.val();jQuery.ajaxFileUpload({url:u,secureuri:!1,fileElementId:r,dataType:"json",timeout:3e4,complete:function(t){e()},success:function(t,e){0!=t.retcode?MWT.alert(t.retmsg):h.setValue(t.data.imgurl)},error:function(t,e,i){MWT.alert(i)}})}function a(){var t=jQuery("#"+h.render+"-imgs");if(t.html(""),0!=h.value.length){for(var e=0;e<h.value.length;++e){var i=h.value[e],n='<li><img src="'+i+'" style="'+h.style+'"><i name="'+h.render+'-upimg-del" data-idx="'+e+'" class="fa fa-minus-circle"></i></li>';t.append(n)}jQuery("[name="+h.render+"-upimg-del]").unbind("click").click(function(){var t=jQuery(this).data("idx");h.value.remove(t),a()})}}this.listeners={};var n,s,r,o,l,c="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEsAAAAsCAIAAACi3dJfAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABqSURBVGhD7c+xDYAwEARB+q/KnRkQLmH0AdqJLjvttWettc6aUqFWoVehVqFXoVahV6FWoVehVqFXoVahV6FWofcWPq9/dQonfa+TKtQq9CrUKvQq1Cr0KtQq9CrUKvQq1Cr0KtSmC/e+AURnMevdfLBSAAAAAElFTkSuQmCC",u="",d=!1,h=this;t&&(this.cls="upimg",this.construct(t),""==this.id&&(this.id=this.render+"img"),t.emptyImg&&(c=t.emptyImg),t.imgupapi&&(u=t.imgupapi),t.empty&&(d=t.empty),t.errmsg&&(l=t.errmsg),this.value=[]),this.create=function(){var t=this.render+"img";r=this.render+"file";var i=c,a='<ul id="'+this.render+'-imgs" class="mwt-imgup-ul"></ul><img id="'+t+'" src="'+i+'" class="'+this.cls+'" style="'+this.style+'" onclick="jQuery(\'#'+r+'\').click();"><div id="'+r+'form"></div>';jQuery("#"+this.render).html(a),n=jQuery("#"+t),e(),o=new MWT.Popover({anchor:t,html:l,cls:"mwt-popover-danger"})},this.setValue=function(t){""!=t&&(is_array(this.value)||(this.value=[]),this.value.push(t),a())},this.validate=function(){return o.hide(),!(!d&&0==this.value.length)||(o.pop(),setTimeout(o.hide,2e3),!1)}},MWT.extends(MWT.MultiImageUploadField,MWT.Field)},function(t,e){"use strict";MWT.TimepickerField=function(t){this.listeners={},this.options=[];var e="",i=this,a={};if(t){if(isset(t.options)&&(this.options=t.options),this.construct(t),""==this.id&&(this.id=this.render+"sel"),e=t.name?t.name:this.id,!this.options.length)for(var n=0;n<24;++n)for(var s=0;s<60;s+=5){var r=(n<10?"0"+n:n)+":"+(s<10?"0"+s:s);this.options.push({text:r,value:r})}for(var o=0;o<this.options.length;++o)a[this.options[o].value]=o}this.create=function(){for(var t=this.id,n="<select id='"+this.id+"' name='"+e+"' class='mwt-btn mwt-btn-default'>",s=0;s<this.options.length;++s){var r=isset(this.value)?this.value:0,o=this.options[s].value==r?"selected":"";n+="<option value='"+this.options[s].value+"' "+o+">"+this.options[s].text+"</option>"}n+="</select>";var l='<div class="mwt-btn-group"><button name="btn-'+t+'" data-v="-1" class="mwt-btn mwt-btn-default"><i class="fa fa-angle-left"></i></button>'+n+'<button name="btn-'+t+'" data-v="+1" class="mwt-btn mwt-btn-default"><i class="fa fa-angle-right"></i></button></div>';jQuery("#"+this.render).html(l),jQuery("#"+t).change(function(){var t=jQuery(this).children("option:selected").val();i.value=t,i.fire("change")}),jQuery('[name="btn-'+t+'"]').unbind("click").click(function(){var e=jQuery("#"+t).children("option:selected").val(),n=a[e],s=parseInt(jQuery(this).data("v"));n+=s,n<0?n=0:n>=i.options.length&&(n=i.options.length-1);var r=i.options[n];i.setValue(r.value)})},this.setValue=function(t){var e=this.id;mwt.set_select_value(e,t),this.value=jQuery("#"+e).children("option:selected").val(),i.fire("change")}},MWT.extends(MWT.TimepickerField,MWT.Field)},function(t,e,i){"use strict";i(94),i(99),i(103),i(111),i(114),i(117),i(120),i(123),i(127)},function(t,e,i){"use strict";i(95),MWT.Layout=function(t){this.listeners={},this.render=null,this.id="",this.style=null,this.html="",this.construct=function(t){t&&(t.render&&(this.render=t.render),t.id?this.id=t.id:this.id=this.render+"-layout",t.style&&(this.style=t.style),t.html&&(this.html=t.html))},this.init=function(){}},MWT.extends(MWT.Layout,MWT.Event),i(97),i(98)},function(t,e){},,function(t,e){"use strict";MWT.FillLayout=function(t){this.listeners={},t&&this.construct(t),this.init=function(){var t=this.style?' style="'+this.style+'"':"",e='<div id="'+this.id+'" class="mwt-layout-fill"'+t+">"+this.html+"</div>";jQuery("#"+this.render).html(e)}},MWT.extends(MWT.FillLayout,MWT.Layout)},function(t,e){"use strict";MWT.BorderLayout=function(t){function e(t){return/[%|px]$/i.test(t)?t:t+"px"}function i(t,e,i,a){var n=""==t?"":' id="'+t+'"',s=""==e?"mwt-layout-fit":"mwt-layout-"+e,r=i?' style="'+i+'"':"",o=a?a:"";return"<div"+n+' class="'+s+'"'+r+">"+o+"</div>"}function a(t){var e=t+"-center";u={};for(var i=0;i<d.length;++i){var a=d[i];a.region||(a.region="center"),a.id||(a.id=t+"-"+a.region),"center"==a.region&&(e=a.id),u[a.region]=a}u.center||(u.center={id:e}),(u.north||u.south)&&(t=n(t)),t!=e&&s(t,e)}function n(t,a){(u.west||u.east)&&(a=t+"-nscenter");var n=a,s=[],r={north:0,south:0};for(var l in r)if(u[l]){var d=u[l],f=e(d.height);if(d.style||(d.style=""),d.style="height:"+f+";"+d.style,s.push(i(d.id,"border-"+d.region,d.style,d.html)),d.split=d.split?1:0,d.collapsible||d.split){var m=d.id+"-bar";u[l+"Split"]={id:m};var g="top",v=d.id,y=a,w="icon icon-up";"south"==l&&(g="bottom",v=a,y=d.id,w="icon icon-down");var g="north"==l?"top":"bottom",b=d.split?"ns-resize":"pointer",k="";d.collapsible&&(k='<button class="mwt-layout-border-collapse-horizontal '+w+'" data-targets="'+d.id+'" data-targetc="'+a+'" data-height="'+d.height+'"></button>'),s.push('<div id="'+m+'" style="'+g+":"+f+";height:"+p+"px;cursor:"+b+";"+h+'" class="mwt-layout-border-split-horizontal" data-targetl="'+v+'" data-targetr="'+y+'" data-split="'+d.split+'">'+k+"</div>"),f=e(parseInt(f)+p)}r[l]=f}var _="top:"+r.north+";bottom:"+r.south+";";if(u.west||u.east)s.push(i(a,"border-center",_));else{var d=u.center;d.style||(d.style=""),d.style=_+d.style,s.push(i(d.id,"border-"+d.region,d.style,d.html))}return jQuery("#"+t).html(s.join("")).css({"overflow-y":"hidden"}),jQuery(".mwt-layout-border-split-horizontal").unbind("mousedown").mousedown(o),jQuery(".mwt-layout-border-collapse-horizontal").mousedown(function(t){t.stopPropagation()}).unbind("click").click(c),n}function s(t,a){var n=[],s={west:0,east:0};for(var o in s)if(u[o]){var c=u[o],d=e(c.width);if(c.style||(c.style=""),c.style="width:"+d+";"+c.style,n.push(i(c.id,"border-"+c.region,c.style,c.html)),c.split=c.split?1:0,c.collapsible||c.split){var f=c.id+"-bar";u[o+"Split"]={id:f};var m="left",g=c.id,v=a,y="icon icon-left";"east"==o&&(m="right",g=a,v=c.id,y="icon icon-right");var w=c.split?"ew-resize":"pointer",b="";c.collapsible&&(b='<button class="mwt-layout-border-collapse-vertical '+y+'" data-targets="'+c.id+'" data-targetc="'+a+'" data-width="'+c.width+'"></button>'),n.push('<div id="'+f+'" style="'+m+":"+d+";width:"+p+"px;cursor:"+w+";"+h+'" class="mwt-layout-border-split-vertical" data-targetl="'+g+'" data-targetr="'+v+'" data-split="'+c.split+'">'+b+"</div>"),d=e(parseInt(d)+p)}s[o]=d}var c=u.center;c.style||(c.style=""),c.style="left:"+s.west+";right:"+s.east+";"+c.style,n.push(i(c.id,"border-"+c.region,c.style,c.html)),jQuery("#"+t).html(n.join("")).css({"overflow-x":"hidden"}),jQuery(".mwt-layout-border-split-vertical").unbind("mousedown").mousedown(r),jQuery(".mwt-layout-border-collapse-vertical").mousedown(function(t){t.stopPropagation()}).unbind("click").click(l)}function r(t){var e=jQuery(this),i=e.data("split");if(i){var a=e.data("targetl"),n=e.data("targetr"),s=jQuery("#"+a),r=jQuery("#"+n),o=t.clientX,l=e.css("left"),c=e.css("right"),u=e.attr("id")+"-movediv";mwt.$(u)||e.parent().append('<div id="'+u+'" class="mwt-layout-fill" style="z-index:9527;cursor:ew-resize;"></div>');var d=jQuery("#"+u);d.show().mousemove(function(t){t.stopPropagation();var i=t.clientX,a=i-o;if("auto"!=e.css("left")){var n=parseInt(l)+a;n<0&&(n=0),//!< 越界
e.css({left:n+"px"}),s.css({width:n+"px"}),r.css({left:n+p+"px"})}else{a=o-i;var n=parseInt(c)+a;e.css({right:parseInt(c)+a+"px"}),r.css({width:n+"px"}),s.css({right:n+p+"px"})}}).mouseup(function(){d.unbind("mousemove"),d.hide()})}}function o(t){var e=jQuery(this),i=e.data("split");if(i){var a=e.data("targetl"),n=e.data("targetr"),s=jQuery("#"+a),r=jQuery("#"+n),o=t.clientY,l=e.css("top"),c=e.css("bottom"),u=e.attr("id")+"-movediv";mwt.$(u)||e.parent().append('<div id="'+u+'" class="mwt-layout-fill" style="z-index:9527;cursor:ns-resize;"></div>');var d=jQuery("#"+u);d.show().mousemove(function(t){var i=t.clientY,a=i-o;if("auto"!=e.css("top")){var n=parseInt(l)+a;n<0&&(n=0),//!< 越界
e.css({top:n+"px"}),s.css({height:n+"px"}),r.css({top:n+p+"px"})}else{a=o-i;var n=parseInt(c)+a;e.css({bottom:parseInt(c)+a+"px"}),r.css({height:n+"px"}),s.css({bottom:n+p+"px"})}}).mouseup(function(){d.unbind("mousemove"),d.hide()})}}function l(){var t=jQuery(this).parent(),e=jQuery(this).data("targets"),i=jQuery(this).data("targetc"),a=jQuery(this).data("width"),n=jQuery("#"+e),s=jQuery("#"+i),r=n.width(),o=r<=0?a:0,l=n.hasClass("mwt-layout-border-east")?"right":"left";"left"==l?(0==o?jQuery(this).removeClass("icon-left").addClass("icon-right"):jQuery(this).removeClass("icon-right").addClass("icon-left"),t.css({left:o+"px"}),n.css({width:o+"px"}),s.css({left:o+p+"px"})):(0==o?jQuery(this).removeClass("icon-right").addClass("icon-left"):jQuery(this).removeClass("icon-left").addClass("icon-right"),t.css({right:o+"px"}),n.css({width:o+"px"}),s.css({right:o+p+"px"}))}function c(){var t=jQuery(this).parent(),e=jQuery(this).data("targets"),i=jQuery(this).data("targetc"),a=jQuery(this).data("height"),n=jQuery("#"+e),s=jQuery("#"+i),r=n.height(),o=r<=0?a:0,l=n.hasClass("mwt-layout-border-south")?"bottom":"top";"top"==l?(0==o?jQuery(this).removeClass("icon-up").addClass("icon-down"):jQuery(this).removeClass("icon-down").addClass("icon-up"),t.css({top:o+"px"}),n.css({height:o+"px"}),s.css({top:o+p+"px"})):(0==o?jQuery(this).removeClass("icon-down").addClass("icon-up"):jQuery(this).removeClass("icon-up").addClass("icon-down"),t.css({bottom:o+"px"}),n.css({height:o+"px"}),s.css({bottom:o+p+"px"}))}this.listeners={};var u,d=[],h="",p=7;//!< 分割线宽度
t&&(this.construct(t),t.items&&(d=t.items),t.splitStyle&&(h=t.splitStyle),t.splitWidth&&(p=t.splitWidth)),this.init=function(){var t=this.style?' style="'+this.style+'"':"",e='<div id="'+this.id+'" class="mwt-layout-border"'+t+">"+this.html+"</div>";jQuery("#"+this.render).html(e),d.length&&a(this.id)}},MWT.extends(MWT.BorderLayout,MWT.Layout)},function(t,e,i){"use strict";i(100),mwt.notify=function(t,e,i){var a=mwt.createDiv("mwt-notify-container");if(t){var n=mwt.genId("mwt-notify-div-");i||(i="");var s="";switch(i){case"info":s="fa fa-info-circle";break;case"warning":s="fa fa-warning";break;case"danger":s="fa fa-times-circle";break;case"success":s="fa fa-check-circle";break;case"loading":s="icon icon-loading fa fa-spin fa-3x"}""!=i&&(s='<i class="'+s+'"></i>');var r='<div id="'+n+'"><div class="mwt-notify '+i+' zoomIn">'+s+t+"</div></div>";return jQuery("#"+a).append(r),e>0&&setTimeout(function(){mwt.notify_destroy(n)},e),n}return null},mwt.notify_destroy=function(t){jQuery("#"+t).fadeOut("slow"),setTimeout(function(){mwt.destroy(t)},2e3)},mwt.alert=function(t,e){if(t){var i=MWT.createDiv("mwt-alert-msg-div"),a=t.msg?t.msg:t,n='<div style="padding:30px 40px;font-size:13px;">'+a+"</div>";jQuery("#"+i).html(n);var s=new mwt.Dialog({render:"mwt-alert-msg-div",title:t.title?t.title:"消息提示",width:t.width?t.width:400,top:t.top?t.top:50,style:"height:"+(t.height?t.height:250)+"px",animate:t.animate?t.animate:"bounceInDown",buttons:[{label:"确定",cls:"mwt-btn-primary",type:"close"}]});s.open(),e&&s.on("close",e)}},mwt.confirm=function(t,e){if(t){var i=MWT.createDiv("mwt-confirm-msg-div"),a=t.msg?t.msg:t,n="<div style=\"padding:30px 40px;font-size:13px;font-family:'microsoft yahei';\">"+a+"</div>";jQuery("#"+i).html(n);var s=new MWT.Dialog({render:"mwt-confirm-msg-div",title:t.title?t.title:"请确认",width:400,top:t.top?t.top:50,bodyStyle:"max-height:450px",animate:t.animate?t.animate:"bounceInDown",buttons:[{label:"确认",cls:"mwt-btn-primary",handler:function(){s.close(),e(!0)}},{label:"取消",cls:"mwt-btn-default",handler:function(){s.close(),e(!1)}}]});s.open()}},mwt.stop_progress=!1,mwt.progress_color="#09C",mwt.showProgress=function(t){var e=MWT.createDiv("mwt-progress-div"),i="loading-progress-span";if(document.getElementById(i)){if(!t)return}else{var a="<span id='loading-progress-span' style='top:0;left:0px;width:0%;height:2px;position:fixed;z-index:999;border-radius:2px;background-color:"+mwt.progress_color+";'></span>";jQuery("#"+e).html(a),jQuery("#"+e).fadeIn("fast"),MWT.stop_progress=!1,t=0}if(MWT.stop_progress)return void jQuery("#"+e).html("");if(t<=90){var n=100*Math.random()%6;t+=n;var s={width:t+"%"};jQuery("#loading-progress-span").animate(s)}setTimeout(function(){MWT.showProgress(t)},500)},mwt.hideProgress=function(){var t={width:"100%"};jQuery("#loading-progress-span").animate(t,function(){jQuery("#mwt-progress-div").hide(),MWT.stop_progress=!0})},i(102)},function(t,e){},,function(t,e){"use strict";mwt.prompt=function(t,e){if(t){var i=MWT.createDiv("mwt-prompt-div"),a=t.type?t.type:"text",n="textarea"==a?"height:150px;":"",s=new MWT.Form;s.addField("field",new MWT.TextField({render:"field-"+i,type:a,style:n,value:"",empty:!1}));var r=new mwt.Dialog({render:i,title:t.title?t.title:"请输入",width:t.width?t.width:400,top:t.top?t.top:80,animate:t.animate?t.animate:"bounceInDown",form:s,body:'<div id="field-'+i+'"></div>',bodyStyle:"padding:10px;",buttons:[{label:"取消",cls:"mwt-btn-default",handler:function(){r.close()}},{label:"确认",cls:"mwt-btn-primary",handler:function(){var t=s.getData();r.close(),e&&e(t.field)}}]});r.on("open",function(){s.reset(),jQuery("#field-mwt-prompt-divtxt").focus()}),r.open()}}},function(t,e,i){"use strict";mwt.Bar=function(t){this.listeners={},this.render=null,this.construct=function(t){t.render&&(this.render=t.render)}},MWT.extends(MWT.Bar,MWT.Event),i(104),i(105),i(108)},function(t,e){"use strict";MWT.PageBar=function(t){function e(){if(n.render){var t=jQuery("#"+n.render),e=n.pageNum,i=n.pageCount;if(e>=i)return void t.html("");var a="morebtn-"+n.render,s='<div id="'+a+'" class="mwt-btn-block mwt-btn mwt-btn-default mwt-btn-xs mwt-loadmorebtn">点击查看更多</div>';t.html(s);var r=jQuery("#"+a);r.show().unbind("click").click(function(){s='<i class="icon icon-loading fa fa-spin fa-2x"></i>'+r.html(),r.html(s).unbind("click"),n.nextPage()})}}this.listeners={},this.store={},this.pageNumCount=10,this.pageSizeList=[10,20,50,100,500,1e3,5e3],this.start=0,//!< 起始行
this.pageSize=10,//!< 页面大小
this.pageNum=0,//!< 当前页号
this.pageCount=0,//!< 总页数
this.totalProperty=0;//!< 总记录数
var i=!1,a=1,n=this;if(t){if(this.construct(t),t.pageSize&&(this.pageSize=t.pageSize),t.pageSizeList&&(this.pageSizeList=t.pageSizeList),t.pageStyle&&(a=t.pageStyle),t.store){this.store=t.store;var n=this;this.store.on("load",function(t){n.totalProperty=t.totalProperty,n.pageNum=n.start/n.pageSize+1,n.pageCount=Math.ceil(t.totalProperty/n.pageSize),n.fire("load"),n.display()})}t.simple&&(i=!0)}this.changePage=function(t){var e=t>0?t-1:0;this.start=e*this.pageSize,this.store.baseParams.start=this.start,this.store.baseParams.limit=this.pageSize,this.store.load()},this.changePagesize=function(t){this.pageSize=t,this.changePage(1)},this.nextPage=function(){var t=this.pageNum+1;t>this.pageCount&&(t=this.pageNum),this.changePage(t)},this.prevPage=function(){var t=this.pageNum-1;t<1&&(t=1),this.changePage(t)},this.firstPage=function(){this.changePage(1)},this.lastPage=function(){this.changePage(this.pageCount)},this.display=function(){if(3==a)return void e();if(this.render){var t=this,n=this.render+"-sel",s=this.render+"-page";if(i){var r=this.render+"-cbtn",o='class="mwt-btn mwt-btn-default"',l=['<button name="'+r+'" data-v="1" '+o+'><i class="fa fa-angle-double-left"></i></button>','<button name="'+r+'" data-v="'+(this.pageNum-1)+'" '+o+'><i class="fa fa-angle-left"></i></button>','<span style="font-size:13px;margin:0 4px;color:#444;">'+this.pageNum+" / "+this.pageCount+"</span>",'<button name="'+r+'" data-v="'+(this.pageNum+1)+'" '+o+'><i class="fa fa-angle-right"></i></button>','<button name="'+r+'" data-v="'+this.pageCount+'" '+o+'><i class="fa fa-angle-double-right"></i></button>'],c='<div class="mwt-simple-pagebar">'+l.join("&nbsp;")+"</div>";return jQuery("#"+this.render).html(c),void jQuery("[name="+r+"]").click(function(){var e=jQuery(this).data("v");e!=t.pageNum&&e>0&&e<=t.pageCount&&t.changePage(e)})}var u=[{text:"<i class='fa fa-angle-double-left'></i>",value:1,active:1!=this.pageNum},{text:"<i class='fa fa-angle-left'></i>",value:this.pageNum-1,active:1!=this.pageNum}],d=[],h=Math.ceil(this.pageNumCount/2),p=this.pageNum-h;p<1&&(p=1);for(var f=0;f<this.pageNumCount;){var m=p!=this.pageNum,g={text:p,value:p,active:m};if(d.push(g),++p,p>this.pageCount)break;++f}for(var v=[{text:"<i class='fa fa-angle-right'></i>",value:this.pageNum+1,active:this.pageCount>0&this.pageNum!=this.pageCount},{text:"<i class='fa fa-angle-double-right'></i>",value:this.pageCount,active:this.pageCount>0&this.pageNum!=this.pageCount}],y=u.concat(d,v),w=[],b=0;b<y.length;++b){var k=y[b].text,_=y[b].value,x=y[b].active?"":"disabled",j=0==b?0:1,M="<button name='"+s+"' "+x+" value='"+_+"' class='mwt-btn mwt-btn-default mwt-btn-xs' style='border-radius:0;margin-left:"+j+"px;'>"+k+"</button>";w.push(M)}for(var D='<select id="'+n+'">',b=0;b<this.pageSizeList.length;++b){var _=this.pageSizeList[b],x=_==this.pageSize?"selected":"";D+="<option value='"+_+"' "+x+">"+_+"</option>"}D+="</select>";var c='<table class="mwt-tablay"><tr>';switch(parseInt(a)){case 2:c+='<td class="ct">'+w.join("")+"</td>";break;default:c+='<td class="lt">'+w.join("")+'</td><td class="rt">共 <b>'+this.totalProperty+"</b> 条记录，每页显示个数："+D+"</td>"}c+="</tr></table>",document.getElementById(this.render).innerHTML=c,document.getElementById(n)&&(document.getElementById(n).onchange=function(e){t.changePagesize(this.value)});for(var l=document.getElementsByName(s),b=0;b<l.length;++b)l[b].onclick=function(e){t.changePage(this.value)}}}},MWT.extends(MWT.PageBar,MWT.Bar)},function(t,e,i){"use strict";i(106),MWT.ToolBar=function(t){function e(t,e){var i=isset(t.id)&&""!=t.id?t.id:u.render+"_item_"+e;return i}function i(t,e,i){var a=isset(t.cls)?"mwt-btn "+t.cls:"mwt-btn mwt-btn-primary",n=isset(t.style)?' style="'+t.style+'"':"",s='<button id="'+e+'" class="'+a+'"'+n+">"+t.label+"</button>";jQuery("#"+i).html(s),t.handler&&jQuery("#"+e).unbind("click").click(t.handler)}function a(t,e,i){var a=new MWT.SelectField({render:i,id:e,options:t.options?t.options:[],value:t.value,cls:t.cls,style:t.style});a.create(),t.handler&&a.on("change",t.handler)}function n(t,e,i){var a=new MWT.SelboxField({render:i,id:e,options:t.options?t.options:[],value:t.value,cls:t.cls,style:t.style,width:t.width?t.width:100,popWidth:t.popWidth?t.popWidth:130,popHeight:t.popHeight?t.popHeight:170});a.create(),t.handler&&a.on("change",t.handler)}function s(t,e,i){var a=new MWT.RadiobtnField({render:i,id:e,options:t.options?t.options:[],value:t.value,cls:t.cls,style:t.style});a.create(),t.handler&&a.on("change",t.handler)}function r(t,e,i){var a=e+"btn",n=isset(t.width)?t.width:200,s=' style="width:'+n+"px;"+(isset(t.style)?t.style:"")+'"',r=isset(t.cls)?"mwt-search "+t.cls:"mwt-search",o=isset(t.value)?' value="'+t.value+'"':"",l=isset(t.placeholder)?' placeholder="'+t.placeholder+'"':"",c='<div class="'+r+'"><input id="'+e+'" type="text" class="mwt-field"'+s+o+l+'"><i id="'+a+'" class="fa fa-search"></i></div>';jQuery("#"+i).html(c),t.handler&&(jQuery("#"+a).click(t.handler),jQuery("#"+e).change(t.handler))}function o(t,e,i){var a=new MWT.DatepickerField({render:i,id:e,options:t.options?t.options:[],value:t.value,cls:t.cls,style:t.style});a.create(),t.handler&&a.on("change",t.handler)}function l(t,e,i){var a=new MWT.DaterangepickerField({render:i,id:e,options:t.options?t.options:[],value:t.value,cls:t.cls,style:t.style});a.create(),t.handler&&a.on("change",t.handler)}function c(t,e,i){var a=new MWT.TimepickerField({render:i,id:e,options:t.options?t.options:[],value:t.value,cls:t.cls,style:t.style});a.create(),t.handler&&a.on("change",t.handler)}var u=this;this.listeners={},this.style=null,this.items=[],t&&(this.construct(t),t.items&&(this.items=t.items),t.style&&(this.style=t.style)),this.create=function(){if(this.render){for(var t=this.style?" style='"+this.style+"'":"",u="<div class='mwt-toolbar'"+t+"><table><tr>",d=!1,h=0;h<this.items.length;++h){var p=this.items[h];"->"!=p?"-"!=p?isset(p.html)?u+="<td>"+p.html+"</td>":is_string(p)?u+="<td>"+p+"</td>":(p.label&&p.type&&"button"!=p.type&&(u+="<td><label>"+p.label+":</label></td>"),u+='<td id="'+e(p,h)+'-cell"></td>'):(d||(u+="<td width='100%'></td>"),u+="</tr></table><hr><table><tr>",d=!1):(u+="<td width='100%'></td>",d=!0)}d||(u+="<td width='100%'></td>"),u+="</tr></table></div>",jQuery("#"+this.render).html(u);for(var h=0;h<this.items.length;++h){var p=this.items[h];if("->"!=p&&"-"!=p&&!isset(p.html)&&!is_string(p)){var f=isset(p.type)?p.type:"button",m=e(p,h),g=m+"-cell";switch(f){case"select":a(p,m,g);break;case"selbox":n(p,m,g);break;case"radiobtn":s(p,m,g);break;case"search":r(p,m,g);break;case"datepicker":o(p,m,g);break;case"daterangepicker":l(p,m,g);break;case"timepicker":c(p,m,g);break;case"button":default:i(p,m,g)}}}}}},MWT.extends(MWT.ToolBar,MWT.Bar)},function(t,e){},,function(t,e,i){"use strict";i(109),MWT.FlexBar=function(t){function e(t,e){var i=isset(t.id)&&""!=t.id?t.id:c.render+"_item_"+e;return i}function i(t,e,i){var a=isset(t.cls)?"mwt-btn "+t.cls:"mwt-btn mwt-btn-primary",n=isset(t.style)?' style="'+t.style+'"':"",s='<button id="'+e+'" class="'+a+'"'+n+">"+t.label+"</button>";jQuery("#"+i).html(s),t.handler&&jQuery("#"+e).unbind("click").click(t.handler)}function a(t,e,i){var a=new MWT.SelectField({render:i,id:e,options:t.options?t.options:[],value:t.value,cls:t.cls,style:t.style});a.create(),t.handler&&a.on("change",t.handler)}function n(t,e,i){var a=new MWT.RadiobtnField({render:i,id:e,options:t.options?t.options:[],value:t.value,cls:t.cls,style:t.style});a.create(),t.handler&&a.on("change",t.handler)}function s(t,e,i){var a=e+"btn",n=isset(t.width)?t.width:200,s=' style="width:'+n+"px;"+(isset(t.style)?t.style:"")+'"',r=isset(t.cls)?"mwt-search "+t.cls:"mwt-search",o=isset(t.value)?' value="'+t.value+'"':"",l=isset(t.placeholder)?' placeholder="'+t.placeholder+'"':"",c='<div class="'+r+'"><input id="'+e+'" type="text" class="mwt-field"'+s+o+l+'"><i id="'+a+'" class="fa fa-search"></i></div>';jQuery("#"+i).html(c),t.handler&&(jQuery("#"+a).click(t.handler),jQuery("#"+e).change(t.handler))}function r(t,e,i){var a=new MWT.DatepickerField({render:i,id:e,options:t.options?t.options:[],value:t.value,cls:t.cls,style:t.style});a.create(),t.handler&&a.on("change",t.handler)}function o(t,e,i){var a=new MWT.DaterangepickerField({render:i,id:e,options:t.options?t.options:[],value:t.value,cls:t.cls,style:t.style});a.create(),t.handler&&a.on("change",t.handler)}function l(t,e,i){var a=new MWT.TimepickerField({render:i,id:e,options:t.options?t.options:[],value:t.value,cls:t.cls,style:t.style});a.create(),t.handler&&a.on("change",t.handler)}var c=this;this.listeners={},this.style=null,this.items=[],t&&(this.construct(t),t.items&&(this.items=t.items),t.style&&(this.style=t.style)),this.create=function(){if(this.render){for(var t=this.style?" style='"+this.style+"'":"",c="<div class='mwt-flexbar'"+t+"><table><tr>",u=0;u<this.items.length;++u){var d=this.items[u];isset(d.html)?c+="<td>"+d.html+"</td>":is_string(d)?c+="<td>"+d+"</td>":(d.label&&d.type&&"button"!=d.type&&(c+="<td><label>"+d.label+":</label></td>"),c+='<td id="'+e(d,u)+'-cell"></td>')}c+="</tr></table></div>",jQuery("#"+this.render).html(c);for(var u=0;u<this.items.length;++u){var d=this.items[u];if("->"!=d&&"-"!=d&&!isset(d.html)&&!is_string(d)){var h=isset(d.type)?d.type:"button",p=e(d,u),f=p+"-cell";switch(h){case"select":a(d,p,f);break;case"radiobtn":n(d,p,f);break;case"search":s(d,p,f);break;case"datepicker":r(d,p,f);break;case"daterangepicker":o(d,p,f);break;case"timepicker":l(d,p,f);break;case"button":default:i(d,p,f)}}}}}},MWT.extends(MWT.FlexBar,MWT.Bar)},function(t,e){},,function(t,e,i){"use strict";i(112),mwt.popinit=function(t){function e(t,e){var i=jQuery("#"+e);i.css("display","block");var a=jQuery("#"+t),n=a.offset(),s=n.top,r=n.left,o=a.outerWidth(),l=i.outerWidth(),c=i.outerHeight()+11,u=s-c,d=r+.5*(o-l);i.css({top:u,left:d})}function i(t){if(!t.is("[id]")){var i=mwt.genId("pop");t.attr("id",i)}var a=t.attr("id"),n=a+"-popdiv";mwt.createDiv(n);var s=mwt.$(n),r="mwt-popover top";t.is("[pop-cls]")&&(r+=" "+t.attr("pop-cls")),s.className=r;var o='<div class="arrow"></div><div class="content">'+t.attr("pop-title")+"</div>";s.innerHTML=o,t.unbind("mouseover").mouseover(function(){e(a,n)}),t.unbind("mouseout").mouseout(function(){jQuery("#"+n).hide()})}t?i(jQuery("#"+t)):jQuery("[pop-title]").each(function(){i(jQuery(this))})},MWT.Popover=function(t){function e(){n=MWT.genId(a+"-"),MWT.createDiv(n);var t=MWT.$(n);t.className="mwt-popover top "+r,t.innerHTML='<div class="arrow"></div><div class="content">'+s+"</div>"}function i(){var t=jQuery("#"+a),e=t.offset(),i=e.top,s=e.left,r=t.outerWidth(),o=(t.outerHeight(),jQuery("#"+n)),l=o.outerWidth(),c=o.outerHeight()+11,u=i-c,d=s+.5*(r-l);o.css({top:u,left:d})}this.listeners={};var a,n,s="",r="",o=0;t&&(t.anchor&&(a=t.anchor),t.html&&(s=t.html),t.cls&&(r=t.cls)),this.setHtml=function(t){jQuery("#"+n+" .content").html(t)},this.toggle=function(){0==o?this.pop():this.hide()},this.pop=function(){n||e();var t=jQuery("#"+n);t.show(),i(),o^=1},this.hide=function(){jQuery("#"+n).fadeOut("fast"),o^=1}},MWT.extends(MWT.Popover,MWT.Event)},function(t,e){},,function(t,e,i){"use strict";i(115),MWT.Grid=function(t){function e(){var e="";if(m.tbar&&m.tbar.length){var i=t.tbarStyle?' style="'+t.tbarStyle+'"':"";e+="<div id='"+g+"' class='mwt-grid-tbar'"+i+"></div>"}var a="",n="mwt-table";m.bordered&&(n+=" bordered"),u&&(n+=" striped"),"fixed"==l&&(n+=" mwt-table-fixed"),m.cls&&(n+=" "+m.cls),a='<table id="'+p+'" class="'+n+'"><tbody id="'+v+'" class="mwt-table-head"></tbody><tbody id="'+y+'" class="mwt-table-body"></tbody><tfoot id="'+w+'" class="mwt-table-foot"></tfoot></table>';var s='<div id="container-'+r+'" class="mwt-grid-container">'+e+a+"</div>";jQuery("#"+r).html(s)}function i(){m.tbar&&new MWT.ToolBar({render:g,items:m.tbar}).create()}function a(){if(d)return void mwt.$(v).remove();var t=m.cm.getColumns(),e=t.length,i='<tr style="border-top:none;">';m.multiSelect&&(i+="<th "+m.cm.getMultiSelectColumnStyle()+"><input type='checkbox' id='ckbox-"+r+"' onchange='mwt.set_checkbox_checked(\""+b+"\",this.checked);'/></th>");for(var a=m.grid_div+"-th",n=0;n<e;++n){var s=t[n];if(!s.hide){var o=m.cm.getColumnStyle(n);i+="<th name='"+a+"' "+o,s.sort&&(i+=" class='grid-sort'"),s.poptitle&&(i+=" pop-title='"+s.poptitle+"' "),i+=" data-id='"+s.dataIndex+"'>"+s.head+"</th>"}}i+="</tr>",jQuery("#"+v).html(i);var l=jQuery("[name="+a+"]");l.unbind("click").click(function(){var t=jQuery(this);if(t.hasClass("grid-sort")){var e=t.hasClass("grid-sort-asc")?"grid-sort-desc":"grid-sort-asc";l.removeClass("grid-sort-asc").removeClass("grid-sort-desc"),t.addClass(e);var i="grid-sort-asc"==e?"ASC":"DESC";m.store.baseParams.sort=t.data("id"),m.store.baseParams.dir=i,m.load()}}),mwt.popinit()}function n(){if(!m.pagebar&&m.notoolbox)return void mwt.$(w).remove();var t=m.cm.getColumns(),e=t.length,i='<tr><td colspan="'+(e+1)+'"><div class="mwt-row mwt-row-flex"><div class="mwt-col-fill" id="pagebar-'+r+'"></div><div class="mwt-col-wd mwt-grid-foot-toolbox" id="toolbox-'+r+'"></div></div></td></tr>';if(jQuery("#"+w).html(i),m.pagebar?m._pagebar=new MWT.PageBar({render:"pagebar-"+r,store:m.store,pageSize:m.pageSize,simple:o,pageStyle:m.pageStyle,pageSizeList:m.pageSizeList}):m.store.on("load",function(t){var e="<label>共 "+t.totalProperty+" 条记录</label>";jQuery("#pagebar-"+r).html(e)}),h)mwt.$("toolbox-"+r).remove();else{var a=u?"active":"",n='<a href="javascript:;" id="'+p+'-trpbtn" class="bara '+a+'"><i class="fa fa-bars"></i></a>',s='<a href="javascript:;" id="'+p+'-refbtn" class="bara"><i class="fa fa-refresh"></i></a>',l='<a href="javascript:;" id="'+p+'-expbtn" class="bara"><i class="fa fa-download"></i></a>',c=[n,s,l];jQuery("#toolbox-"+r).html('<span class="seg"></span>'+c.join("&nbsp;")),jQuery("#"+p+"-expbtn").unbind("click").click(function(){m.exportExcel()}),jQuery("#"+p+"-trpbtn").unbind("click").click(function(){u?(jQuery("#"+p).removeClass("striped"),jQuery(this).removeClass("active")):(jQuery("#"+p).addClass("striped"),jQuery(this).addClass("active")),u=!u}),jQuery("#"+p+"-refbtn").unbind("click").click(function(){m.store.load()})}}function s(){if("fixed"==l){if(mwt.$(g)){var t=mwt.$(g).offsetHeight,e=parseInt(mwt.$(g).style.marginBottom);e||(e=0),jQuery("#"+p).css({top:t+e-1})}var i=mwt.$(v).offsetHeight,a=mwt.$(w)?mwt.$(w).offsetHeight:0;jQuery("#"+y).css({top:i,bottom:a})}}var r=null;this.listeners={},this.grid_div=null,this.store={},this._pagebar={},this.pagebar=!0,//!< 是否分页
this.pageSize=20,//!< 页面大小
this.pageStyle=1,//!< 分页样式(详见PageBar的配置)
this.pageSizeList=[10,20,50,100,500,1e3,5e3];//!< 分页页面大小选择
var o=!1,l="relative";//!< 位置(relative:相对位置,其他:固定头部和尾部)
this.tbar=null,this.cm={},this.cls="",this.bordered=!1,this.multiSelect=!1;//!<多选按钮
var c="",u=!1,d=!1,h=!1,p="",f=null;//!< 行点击事件处理函数
if(t){if(t.render&&(r=t.render),t.cm&&(this.cm=t.cm),t.cls&&(this.cls=t.cls),t.store){this.store=t.store;var m=this;this.store.on("load",function(){m.display()})}isset(t.pagebar)&&(this.pagebar=t.pagebar),isset(t.pageSize)&&(this.pageSize=t.pageSize),isset(t.pageStyle)&&(this.pageStyle=t.pageStyle),isset(t.pageSizeList)&&(this.pageSizeList=t.pageSizeList),isset(t.multiSelect)&&(this.multiSelect=t.multiSelect),isset(t.tbar)&&(this.tbar=t.tbar),t.striped&&(u=!0),t.bordered&&(this.bordered=!0),t.noheader&&(d=!0),t.notoolbox&&(h=!0),t.rowclick&&(f=t.rowclick),t.pagebarSimple&&(o=!0),t.filename&&(c=t.filename),t.position&&(l=t.position),p=r+"-tab",""==c&&(c=p)}var g="tbar-"+r,v="thead-"+r,y="tbody-"+r,w="tfoot-"+r,m=this,b="cbxname-"+r;this.create=function(){this.grid_div="grid_div_"+t.render,e(),i(),a(),n(),s(),this.store.beforeLoad||(this.store.beforeLoad=function(){jQuery("#"+p+"-refbtn").unbind("click").html('<i class="fa fa-refresh fa-spin fa-3x fa-fw"></i>')}),this.store.afterLoad||(this.store.afterLoad=function(){jQuery("#"+p+"-refbtn").unbind("click").html('<i class="fa fa-refresh"></i>').click(function(){m.store.load()})})},this.getRecord=function(t,e){var i=this.store.indexOf(t,e);return i<0||i>=this.store.size()?null:this.store.get(i)},this.load=function(t){isset(t)&&(this.store.baseParams=t),this.pagebar?this._pagebar.changePage(1):this.store.load()},this.display=function(){if(r){this.grid_div||this.create();var e=this.cm.getColumns(),i=e.length,a="",n=this.store.size();if(0==n){var s=t.emptyMsg?t.emptyMsg:"查询记录为空";a+='<tr class="empty"><td colspan="'+(i+1)+'">'+s+"</td></tr>"}else for(var o=r+"row",l=0;l<n;++l){var c=this.store.get(l);c.store_index=l,a+="<tr name='"+o+"' data-idx='"+l+"'>",this.multiSelect&&(a+="<td style='width:30px;text-align:center;'><input name='"+b+"' value='"+l+"' type='checkbox'/></td>");for(var u=0;u<i;++u)if(!e[u].hide){var d=e[u].dataIndex,h=c[d];if(e[u].render){var p=e[u].render;h=p(h,c,l,this._pagebar)}a+="<td ";var g=e[u].width?e[u].width:"auto";a+="width='"+g+"' ",isset(e[u].align)&&(a+="align='"+e[u].align+"' "),isset(e[u].valign)&&(a+="valign='"+e[u].valign+"' "),isset(e[u].style)&&(a+="style='"+e[u].style+"' "),a+=">"+h+"</td>"}a+="</tr>"}jQuery("#"+y).html(a),f&&jQuery("[name="+o+"]").unbind("click").click(function(){var t=jQuery(this).data("idx"),e=m.store.get(t);f(e)})}},this.getSelectedRecords=function(){for(var t=mwt.get_checkbox_values(b),e=[],i=0;i<t.length;++i){var a=this.store.get(t[i]);a.store_index=t[i],e.push(a)}return e},this.exportExcel=function(){var t=c;this._pagebar&&this._pagebar.pageNum&&(t+="_第"+this._pagebar.pageNum+"页_共"+this._pagebar.pageCount+"页");var e=new RegExp("\\.xls$","i");e.test(t)||(t+=".xls"),export_excel(p,t)}},MWT.extends(MWT.Grid,MWT.Event),MWT.Grid.ColumnModel=function(t){this.columns=[],t&&(this.columns=t),this.getColumns=function(){return this.columns},this.getMultiSelectColumnStyle=function(){return'style="width:30px;text-align:center;"'},this.getColumnStyle=function(t){var e=this.columns[t],i="",a=e.width?e.width:"auto";i+="width='"+a+"'";var n=isset(e.align)?e.align:"left";return i+=" align='"+n+"'",isset(e.valign)&&(i+=" valign='"+e.valign+"'"),isset(e.style)&&(i+=" style='"+e.style+"'"),i}},MWT.Grid.RowNumberer=function(t){this.head="",this.dataIndex="",this.width=50,this.align="left",this.style="color:#999;font-family:Helvetica;",t&&(t.style&&(this.style=t.style),t.width&&(this.width=t.width),t.align&&(this.align=t.align)),this.render=function(t,e,i,a){var n=i+1;return a&&(n+=a.start),n+"."}},MWT.GridRender={money:function(t){var e=parseFloat(t);return e<1e3?(e=parseInt(100*e)/100,e+"元"):(e/=1e4,e=parseInt(100*e)/100,e+"万元")},integer:function(t){return number_format(t)},percent:function(t){var e=100*t;return number_format(e,2)+"%"},datetime:function(t,e){return t?(e&&is_string(e)||(e="#999"),'<span style="color:'+e+';font: 12px Tahoma;">'+t.substr(0,16)+"</span>"):""},date:function(t,e){if(!t)return"";var i=t.substr(0,10);return"0000-00-00"==i||"1970-01-01"==i?"":(e&&is_string(e)||(e="#999"),'<span style="color:'+e+'">'+i+"</span>")},second:function(t){var e=[];return t>=86400&&(e.push(parseInt(t/86400)+"天"),t%=86400),t>=3600&&(e.push(parseInt(t/3600)+"小时"),t%=3600),t>=60&&(e.push(parseInt(t/60)+"分钟"),t%=60),0==t&&0!=e.length||e.push(t+"秒"),e.join("")},fileSize:function(t){var e=parseInt(t);if(0===e)return"0 B";var i=1024,a=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],n=Math.floor(Math.log(e)/Math.log(i));return(e/Math.pow(i,n)).toPrecision(3)+" "+a[n]}}},function(t,e){},,function(t,e,i){"use strict";i(118),MWT.Form=function(t){function e(){if(a=[],i&&0!=i.length)for(var t,e=0;e<i.length;++e){var n=i[e];switch(n.type){case"image":t=new MWT.ImageUploadField(n);break;default:t=new MWT.TextField(n)}a.push({name:n.name,field:t})}}this.listeners={};var i,a=[];t&&t.fields&&(i=t.fields,e()),this.create=function(){for(var t=0;t<a.length;++t)a[t].field.create()},this.addField=function(t,e){this.getFieldByName(t)||a.push({name:t,field:e})},this.getField=function(t){return a[t].field},this.getFieldByName=function(t){for(var e=0;e<a.length;++e)if(a[e].name==t)return a[e].field;return null},this.getData=function(){for(var t={},e=0;e<a.length;++e){var i=a[e];t[i.name]=i.field.getValue()}return t},this.reset=function(){for(var t=0;t<a.length;++t)a[t].field.reset()},this.set=function(t){for(var e=0;e<a.length;++e){var i=a[e],n=i.name;isset(t[n])&&i.field.setValue(t[n])}}},MWT.extends(MWT.Form,MWT.Event)},function(t,e){},,function(t,e,i){"use strict";i(121)},function(t,e){},,function(t,e,i){"use strict";i(124),i(126),MWT.ExcelImport=function(t){function e(){var t='<form method="POST" enctype="multipart/form-data"><input type="file" id="'+g+'" name="'+g+'" accept="*.xls,*.xlsx" style="display:none;"/></form>';jQuery("#formdiv-"+u).html(t),jQuery("#"+g).unbind("change").change(function(){var t=jQuery(this).val();jQuery("#txt-"+u).val(t)})}function i(){var t=jQuery("#"+g).val();return""==t?void m.pop():(s(),o("开始上传Excel文件"),void jQuery.ajaxFileUpload({url:d,secureuri:!1,fileElementId:"excelfile",dataType:"json",timeout:3e4,complete:function(t){e()},success:function(t,e){0!=t.retcode?(l(t.retmsg),r()):(c("上传成功"),a(t.data))},error:function(t,e,i){l("ERROR: "+i),r()}}))}function a(t){try{var e="开始导入数据 [行数:"+t.rows_count+"] [列数:"+t.cols_count+"]";p&&p(t),o(e),y=0,n(0,t.root)}catch(t){return l(t),void r()}}function n(t,e){if(t>=e.length)return o("导入结束，总行数："+e.length+"，成功导入："+y),r(),void(f&&f(y,e.length));var i=0;h&&(i=h(e[t]));var a=e[t].join(" ");0==i?(c("第"+(t+1)+"行 [导入成功] - "+a),++y):l("第"+(t+1)+"行 [导入失败:"+i+"] - "+a),setTimeout(function(){n(++t,e)},100)}function s(){jQuery("#txt-"+u).attr("disabled","disabled").css({background:"#eee"});var t='<i class="icon icon-loading fa fa-spin"></i>正在导入...';jQuery("#upbtn-"+u).attr("disabled","disabled").html(t),t='<ul id="ul-'+u+'"></ul><ul id="loading-'+u+'" style="margin-top:-8px;"><li><i class="icon icon-loading fa fa-spin" style="color:gray;"></i></li></ul>',jQuery("#feedback-"+u).html(t).fadeIn()}function r(){jQuery("#txt-"+u).removeAttr("disabled").css({background:"#fff"}),jQuery("#upbtn-"+u).removeAttr("disabled").html("开始导入"),jQuery("#loading-"+u).remove()}function o(t){var e="<li>&gt; "+t+"</li>";jQuery("#ul-"+u).append(e);var i=jQuery("#feedback-"+u)[0].scrollHeight;jQuery("#feedback-"+u).scrollTop(i)}function l(t){o('<span style="color:red;">'+t+"</span>")}function c(t){o('<span style="color:darkgreen;">'+t+"</span>")}this.listeners={};var u,d,h,p,f,m,g="excelfile",v="",y=0;t&&(t.render&&(u=t.render),t.ajaxapi&&(d=t.ajaxapi),d.indexOf("fileElementId")<0&&(d+="&fileElementId="+g),t.tiphtml&&(v=t.tiphtml),t.lineProcFun&&(h=t.lineProcFun),t.checkFun&&(p=t.checkFun),t.afterFun&&(f=t.afterFun)),this.create=function(){if(u){var t=u,a="";""!=v&&(a='<div class="mwt-wall mwt-wall-info" style="margin-top:10px;">'+v+"</div>");var n='<table class="mwt-excel-tab"><tr><td><input id="txt-'+t+'" tyle="text" class="mwt-field" placeholder="选择Excel文件" readonly><div id="formdiv-'+t+'" style="display:none;"></div></td><td width="78" align="right"><button id="upbtn-'+t+'" class="mwt-btn mwt-btn-success mwt-btn-sm">开始导入</button></td></tr></table>'+a+'<div id="feedback-'+t+'" class="mwt-feedback"></div>';jQuery("#"+t).html(n),e(),m=new mwt.Popover({anchor:"txt-"+t,html:"请上传Excel文件",cls:"mwt-popover-danger"}),jQuery("#txt-"+t).unbind("click").click(function(){m.hide(),jQuery(this).val(""),jQuery("#"+g).val("").click()}),jQuery("#upbtn-"+t).unbind("click").click(i)}}},MWT.extends(MWT.ExcelImport,MWT.Event)},function(t,e){},,function(module,exports){"use strict";if("undefined"==typeof jq)var jq=jQuery.noConflict();!function(jQuery){jQuery.extend({createUploadIframe:function(t,e){var i="jUploadFrame"+t,a='<iframe id="'+i+'" name="'+i+'" style="position:absolute; top:-9999px; left:-9999px"';return window.ActiveXObject&&("boolean"==typeof e?a+=' src="javascript:false"':"string"==typeof e&&(a+=' src="'+e+'"')),a+=" />",jQuery(a).appendTo(document.body),jQuery("#"+i).get(0)},createUploadForm:function(t,e,i){var a="jUploadForm"+t,n="jUploadFile"+t,s=jQuery('<form  action="" method="POST" name="'+a+'" id="'+a+'" enctype="multipart/form-data"></form>');if(i)for(var r in i)jQuery('<input type="hidden" name="'+r+'" value="'+i[r]+'" />').appendTo(s);var o=jQuery("#"+e),l=jQuery(o).clone();return jQuery(o).attr("id",n),jQuery(o).before(l),jQuery(o).appendTo(s),jQuery(s).css("position","absolute"),jQuery(s).css("top","-1200px"),jQuery(s).css("left","-1200px"),jQuery(s).appendTo("body"),s},ajaxFileUpload:function(t){t=jQuery.extend({},jQuery.ajaxSettings,t);var e=(new Date).getTime(),i=jQuery.createUploadForm(e,t.fileElementId,"undefined"!=typeof t.data&&t.data),a=(jQuery.createUploadIframe(e,t.secureuri),"jUploadFrame"+e),n="jUploadForm"+e;t.global&&!jQuery.active++&&jQuery.event.trigger("ajaxStart");var s=!1,r={};t.global&&jQuery.event.trigger("ajaxSend",[r,t]);var o=function(e){var n=document.getElementById(a);try{n.contentWindow?(r.responseText=n.contentWindow.document.body?n.contentWindow.document.body.innerHTML:null,r.responseXML=n.contentWindow.document.XMLDocument?n.contentWindow.document.XMLDocument:n.contentWindow.document):n.contentDocument&&(r.responseText=n.contentDocument.document.body?n.contentDocument.document.body.innerHTML:null,r.responseXML=n.contentDocument.document.XMLDocument?n.contentDocument.document.XMLDocument:n.contentDocument.document)}catch(e){jQuery.handleError(t,r,null,e)}if(r||"timeout"==e){s=!0;var o;try{if(o="timeout"!=e?"success":"error","error"!=o){var l=jQuery.uploadHttpData(r,t.dataType);t.success&&t.success(l,o),t.global&&jQuery.event.trigger("ajaxSuccess",[r,t])}else jQuery.handleError(t,r,o)}catch(e){o="error",jQuery.handleError(t,r,o,e)}t.global&&jQuery.event.trigger("ajaxComplete",[r,t]),t.global&&!--jQuery.active&&jQuery.event.trigger("ajaxStop"),t.complete&&t.complete(r,o),jQuery(n).unbind(),setTimeout(function(){try{jQuery(n).remove(),jQuery(i).remove()}catch(e){jQuery.handleError(t,r,null,e)}},100),r=null}};t.timeout>0&&setTimeout(function(){s||o("timeout")},t.timeout);try{var i=jQuery("#"+n);jQuery(i).attr("action",t.url),jQuery(i).attr("method","POST"),jQuery(i).attr("target",a),i.encoding?jQuery(i).attr("encoding","multipart/form-data"):jQuery(i).attr("enctype","multipart/form-data"),jQuery(i).submit()}catch(e){jQuery.handleError(t,r,null,e)}return jQuery("#"+a).load(o),{abort:function(){}}},uploadHttpData:function uploadHttpData(r,type){var data=!type;return data="xml"==type||data?r.responseXML:r.responseText,"script"==type&&jQuery.globalEval(data),"json"==type&&(data=data.replaceAll(/<\/?pre.*?>/,""),eval("data = "+data)),"html"==type&&jQuery("<div>").html(data).evalScripts(),data},handleError:function(t,e,i,a){console.warn("---error-list"),console.warn(t),console.warn(e),console.warn(i),console.warn(a),console.warn("---error-list-end"),t.error&&t.error.call(t.context||t,e,i,a),t.global&&(t.context?jQuery(t.context):jQuery.event).trigger("ajaxError",[e,t,a])}})}(jq||jQuery)},function(t,e){"use strict";MWT.ImageUpload=function(t){function e(){if(r){mwt.createDiv(r);var t='<form method="POST" enctype="multipart/form-data"><input type="file" id="'+o+'" name="'+o+'" accept="'+l+'" style="display:none;"/></form>';jQuery("#"+r).html(t),n=jQuery("#"+o),n.change(i)}}function i(){var t=n.val();""!=t&&jQuery.ajaxFileUpload({url:a,secureuri:!1,fileElementId:o,dataType:"json",timeout:3e4,complete:function(t){e()},success:function(t,e){s&&s(t)},error:function(t,e,i){mwt.alert("Error: "+i)}})}this.listeners={};var a,n,s,r="image-upload-div",o="imgfile",l="image/*";t&&(t.render&&(r=t.render),t.ajaxapi&&(a=t.ajaxapi),a.indexOf("fileElementId")<0&&(a+="&fileElementId="+o),t.acceptFiletype&&(l=t.acceptFiletype)),this.upload=function(t){n||e(),s=t,n.val(""),n.click()}},MWT.extends(MWT.ImageUpload,MWT.Event)}]);
