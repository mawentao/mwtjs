<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=GBK" />
  <title>图片上传控件</title>
  <link href='../../static/mwt.min.css' rel="stylesheet"/>
  <script src="../../static/dep/jquery/1.11.2/jquery.min.js"></script>
  <script src="../../static/dep/jquery/1.11.2/ajaxfileupload.js"></script>
  <script src="../../static/mwt.min.js"></script>
  <script>
    jQuery(function(){
        var fd = new MWT.ImageUploadField({
            render   : 'dom-div',
            imgupapi : 'http://139.196.29.35:8008/mawt/index.php/toolkit/ajax/upimg',
            style    : 'width:160px;height:90px;border:solid 1px #eee',
            value    : 'http://mobfile.youzu.com/gips/img?pic=11414870876416927893'
        });
        fd.create();

        fd.on("change",function(t){
            var v = t.value;
            alert(v);
        });

        jQuery("#set-btn").click(function(){
            fd.setValue("http://files.jb51.net/image/sdzx_300.gif");
        });
        jQuery("#get-btn").click(function(){
            alert(fd.getValue());
        });
        jQuery("#reset-btn").click(function(){
            fd.reset();
        });
    });
  </script>
</head>
<body style="padding:10px;">

<div id='dom-div'></div>
<br>
<button id='set-btn' class='mwt-btn mwt-btn-default'>设值</button>
<button id='get-btn' class='mwt-btn mwt-btn-default'>取值</button>
<button id='reset-btn' class='mwt-btn mwt-btn-default'>重置</button>

<hr>

<ul>
  <li>请参照示例API的返回结果格式写API</li>
  <li>API返回结果，请不要设置返回包的head，如 header("Content-type: application/json");</li>
  <li>在Dialog中使用控件时，请在open后重新create下控件</li>
</ul>


</body>
</html>
